<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>前端面试 | JaveyRabbit's blog</title><meta name="keywords" content="面试"><meta name="author" content="JaveyRabbit"><meta name="copyright" content="JaveyRabbit"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="关于前端面试知识">
<meta property="og:type" content="article">
<meta property="og:title" content="前端面试">
<meta property="og:url" content="https://javeyrabbit.github.io/2022/07/10/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/index.html">
<meta property="og:site_name" content="JaveyRabbit&#39;s blog">
<meta property="og:description" content="关于前端面试知识">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/123.jpg">
<meta property="article:published_time" content="2022-07-10T06:00:00.000Z">
<meta property="article:modified_time" content="2022-07-11T15:06:05.463Z">
<meta property="article:author" content="JaveyRabbit">
<meta property="article:tag" content="面试">
<meta property="article:tag" content="算法">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/123.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://javeyrabbit.github.io/2022/07/10/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="yandex-verification" content="{&quot;theme_color&quot;:{&quot;enable&quot;:true,&quot;main&quot;:&quot;#49B1F5&quot;,&quot;paginator&quot;:&quot;#00c4b6&quot;,&quot;button_hover&quot;:&quot;#FF7242&quot;,&quot;text_selection&quot;:&quot;#00c4b6&quot;,&quot;link_color&quot;:&quot;#99a9bf&quot;,&quot;meta_color&quot;:&quot;#858585&quot;,&quot;hr_color&quot;:&quot;#A4D8FA&quot;,&quot;code_foreground&quot;:&quot;#F47466&quot;,&quot;code_background&quot;:&quot;rgba(27, 31, 35, .05)&quot;,&quot;toc_color&quot;:&quot;#00c4b6&quot;,&quot;blockquote_padding_color&quot;:&quot;#49b1f5&quot;,&quot;blockquote_background_color&quot;:&quot;#49b1f5&quot;}}"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: JaveyRabbit","link":"链接: ","source":"来源: JaveyRabbit's blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-center"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: true
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-07-11 23:06:05'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = '2'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="/img/dog.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友鏈</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 關於</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/123.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">JaveyRabbit's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友鏈</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 關於</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">前端面试</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-07-10T06:00:00.000Z" title="发表于 2022-07-10 14:00:00">2022-07-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-07-11T15:06:05.463Z" title="更新于 2022-07-11 23:06:05">2022-07-11</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">23.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>88分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="前端面试题整理"><a href="#前端面试题整理" class="headerlink" title="前端面试题整理"></a>前端面试题整理</h1><p>已同步到掘金、CSDN</p>
<p>掘金地址： <a target="_blank" rel="noopener" href="https://juejin.cn/post/7075332630417244173">https://juejin.cn/post/7075332630417244173</a></p>
<p>CSDN 地址：<a target="_blank" rel="noopener" href="https://blog.csdn.net/z1832729975/article/details/123431083">https://blog.csdn.net/z1832729975/article/details/123431083</a></p>
<p>个人整理了很多网上常见的面试题，希望也能通过这来复习<br>内容有点多，可能 CSDN 上预览效果不好，想要 markdown 文档的可以私信我，推荐使用<code>Typora</code>看</p>
<p><img src= "/img/loading1.gif" data-lazy-src="https://img-blog.csdnimg.cn/d6ed481d07584df1b1cd8e06084fba9f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAemjpmL_po54=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>比较好的面试题</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6989422484722286600">2021 年我的前端面试准备</a><br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904116339261447">2021 年前端面试必读文章【超三百篇文章/赠复习导图】</a></p>
<h2 id="CSS、HTML"><a href="#CSS、HTML" class="headerlink" title="CSS、HTML"></a>CSS、HTML</h2><h3 id="浏览器内核"><a href="#浏览器内核" class="headerlink" title="浏览器内核"></a>浏览器内核</h3><blockquote>
<p>IE: trident 内核<br>Firefox：gecko 内核<br>Safari: webkit 内核<br>Opera: 以前是 presto 内核，Opera 现已改用 GoogleChrome 的 Blink 内核<br>Chrome: Blink(基于 webkit，Google 与 Opera Software 共同开发)</p>
</blockquote>
<h3 id="你是怎么理解-HTML-语义化"><a href="#你是怎么理解-HTML-语义化" class="headerlink" title="你是怎么理解 HTML 语义化"></a><strong>你是怎么理解</strong> <strong>HTML</strong> <strong>语义化</strong></h3><p>HTML 语义化简单来说就是 用<strong>正确的标签来做正确的事。</strong><br>比如表示段落用 p 标签、表示标题用 h1-h6 标签、表示文章就用 article 等。</p>
<h3 id="DOCTYPE-的作用"><a href="#DOCTYPE-的作用" class="headerlink" title="DOCTYPE 的作用"></a>DOCTYPE 的作用</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wuqiutong/p/5986191.htmlhttps://www.cnblogs.com/wuqiutong/p/5986191.html">Doctype 作用？严格模式与混杂模式如何区分？它们有何差异？</a></p>
</blockquote>
<ol>
<li><p><code>&lt;!DOCTYPE&gt;</code> 声明位于文档中的最前面，处于 <code>&lt;html&gt;</code> 标签之前。告知浏览器以何种模式来渲染文档。</p>
</li>
<li><p>严格模式的排版和 JS 运作模式是 以该浏览器支持的最高标准运行。</p>
</li>
<li><p>在混杂模式中，页面以宽松的向后兼容的方式显示。模拟老式浏览器的行为以防止站 点无法工作。</p>
</li>
<li><p>DOCTYPE 不存在或格式不正确会导致文档以混杂模式呈现。复制代码 你知道多少种 Doctype 文档类型？ 该标签可声明三种 DTD 类型，分别表示严格版本、过渡版本以及基于框架的 HTML 文档。 HTML 4.01 规定了三种文档类型：Strict、Transitional 以及 Frameset。 XHTML 1.0 规定了三种 XML 文档类型：Strict、Transitional 以及 Frameset。 Standards （标准）模式（也就是严格呈现模式）用于呈现遵循最新标准的网页，而 Quirks （包容）模式（也就是松散呈现模式或者兼容模式）用于呈现为传统浏览器而设计的网页。</p>
</li>
</ol>
<h3 id="行内元素、块级元素、-空元素有那些？"><a href="#行内元素、块级元素、-空元素有那些？" class="headerlink" title="行内元素、块级元素、 空元素有那些？"></a>行内元素、块级元素、 空元素有那些？</h3><ul>
<li>行内元素 (不能设置宽高，设置宽高无效) a,span,i,em,strong,label</li>
<li>行内块元素：img, input</li>
<li>块元素： div, p, h1-h6, ul,li,ol,dl,table…</li>
<li>知名的空元素 br, hr,img, input,link,meta</li>
</ul>
<p>可以通过 display 修改 <code>inline-block</code>, <code>block</code>, <code>inline</code> 切换成行内元素    </p>
<p><strong>注意</strong></p>
<p>只有文字才能组成段落，因此 <code>p</code> 标签里面不能放块级元素，特别是 <code>p</code> 标签不能放 <code>div</code>。同理还有这些标签<code>h1,h2,h3,h4,h5,h6,dt</code> ，他们都是文字类块级标签，里面不能放其他块级元素。</p>
<h3 id="meta-viewport-是做什么用的，怎么写"><a href="#meta-viewport-是做什么用的，怎么写" class="headerlink" title="meta viewport 是做什么用的，怎么写"></a><strong>meta viewport</strong> <strong>是做什么用的，怎么写</strong></h3><p>使用目的</p>
<p>告诉浏览器，用户在移动端时如何缩放页面</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta</span><br><span class="line">  name=&quot;viewport&quot;</span><br><span class="line">  content=&quot;width=device-width, </span><br><span class="line">               initial-scale=1, </span><br><span class="line">               maximum-scale-1, minimum-scale=1&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<p><code>with=device-width</code> 将布局视窗（layout viewport）的宽度设置为设备屏幕分辨率的宽度</p>
<p><code>initial-scale=1</code> 页面初始缩放比例为屏幕分辨率的宽度</p>
<p><code>maximum-scale=1</code> 指定用户能够放大的最大比例</p>
<p><code>minimum-scale=1</code> 指定用户能够缩小的最大比例</p>
<h3 id="label-标签的作用"><a href="#label-标签的作用" class="headerlink" title="label 标签的作用"></a><strong>label</strong> <strong>标签的作用</strong></h3><p>label 标签来定义表单控制间的关系,当用户选择该标签时，浏览器会自动将焦点转到和标签相关的表单控件上。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;Name&quot;</span>&gt;</span>Number:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Name&quot;</span> <span class="attr">id</span>=<span class="string">&quot;Name&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;label</span><br><span class="line">  &gt;Date:</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;B&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="canvas-在标签上设置宽高-和在-style-中设置宽高有什么-区别"><a href="#canvas-在标签上设置宽高-和在-style-中设置宽高有什么-区别" class="headerlink" title="canvas 在标签上设置宽高 和在 style 中设置宽高有什么 区别"></a><strong>canvas</strong> <strong>在标签上设置宽高 和在</strong> <strong>style</strong> <strong>中设置宽高有什么</strong> <strong>区别</strong></h3><blockquote>
<p>canvas 标签的 width 和 height 是画布实际宽度和高度，绘制的图形都是在这个上面。<br>而 style 的 width 和 height 是 canvas 在浏览器中被渲染的高度和宽度。<br>如果 canvas 的 width 和 height 没指定或值不正确，就被设置成默认值 。</p>
</blockquote>
<h3 id="html5-新特性"><a href="#html5-新特性" class="headerlink" title="html5 新特性"></a>html5 新特性</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/77131734">HTML5 新特性</a></p>
</blockquote>
<ol>
<li><p>语义化标签， header, footer, nav, aside,article,section</p>
</li>
<li><p>增强型表单</p>
</li>
<li><p>视频 video 和音频 audio</p>
</li>
<li><p>Canvas 绘图</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=SVG&spm=1001.2101.3001.7020">SVG</a>绘图</p>
</li>
<li><p>地理定位</p>
</li>
<li><p>拖放 API</p>
</li>
<li><p>WebWorker</p>
</li>
<li><p>WebStorage( 本地离线存储 localStorage、sessionStorage )</p>
<p>localStorage生命周期是永久，这意味着除非用户显示在浏览器提供的UI上清除localStorage信息，否则这些信息将永远存在。</p>
<p>sessionStorage仅在当前会话下有效，关闭页面或浏览器后被清除。</p>
</li>
<li><p>WebSocket</p>
</li>
</ol>
<h3 id="css3-新特性"><a href="#css3-新特性" class="headerlink" title="css3 新特性"></a>css3 新特性</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/136700705">CSS3 有哪些新特性？CSS3 新特性详解</a></p>
</blockquote>
<p>1、圆角效果；2、图形化边界；3、块阴影与文字阴影；4、使用 RGBA 实现透明效果；5、渐变效果；6、使用“@Font-Face”实现定制字体；7、多背景图；8、文字或图像的变形处理；9、多栏布局；10、媒体查询等。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1、颜色：新增RGBA、HSLA模式</span><br><span class="line">2、文字阴影：（text-shadow）</span><br><span class="line">3、边框：圆角（border-radius）边框阴影：box-shadow</span><br><span class="line">4、盒子模型：box-sizing</span><br><span class="line">5、背景：background-size,background-origin background-clip(削弱)</span><br><span class="line">6、渐变：linear-gradient(线性渐变):</span><br><span class="line">eg: background-image: linear-gradient(100deg, #237b9f, #f2febd);</span><br><span class="line">radial-gradient (径向渐变)</span><br><span class="line">7、过渡：transition可实现动画</span><br><span class="line">8、自定义动画： animate@keyfrom</span><br><span class="line">9、媒体查询：多栏布局@media screen and (width:800px)</span><br><span class="line">10、border-image</span><br><span class="line">11、2D转换:transform:translate(x,y) rotate(x,y)旋转 skew(x,y)倾斜 scale(x,y)缩放</span><br><span class="line">12、3D转换</span><br><span class="line">13、字体图标：Font-Face</span><br><span class="line">14、弹性布局：flex</span><br></pre></td></tr></table></figure>
<h3 id="css-选择器"><a href="#css-选择器" class="headerlink" title="css 选择器"></a>css 选择器</h3><p>id 选择器（ #myid）</p>
<p>类选择器（.myclassname）</p>
<p>标签选择器（div, h1, p）相邻选择器（h1 + p）</p>
<p>子选择器（ul &gt; li）后代选择器（li a）</p>
<p>属性选择器（a[rel = “external”]）</p>
<p>伪类选择器（a: hover, li:nth-child）</p>
<p>通配符选择器（ * ）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    !Important &gt; 行内式 &gt; id &gt; 类&#x2F;伪类&#x2F;属性 &gt; 标签选择器  &gt;  全局</span><br><span class="line">（对应权重：无穷大∞ &gt; 1000&gt; 100 &gt;  10        &gt;  1   &gt;      0）</span><br></pre></td></tr></table></figure>
<h3 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h3><p>一个盒子，会有 content,padding,border,margin 四部分，</p>
<p>标准的盒模型的宽高指的是 content 部分</p>
<p>ie 的盒模型的宽高包括了 content+padding+border</p>
<p>我们可以通过 box-sizing 修改盒模型，box-sizing <code>border-box</code> <code>content-box</code></p>
<h3 id="margin-合并"><a href="#margin-合并" class="headerlink" title="margin 合并"></a>margin 合并</h3><p>在垂直方向上的两个盒子，他们的 margin 会发生合并（会取最大的值），比如上边盒子设置<code>margin-bottom:20px</code>，下边盒子设置<code>margin-top:30px;</code>，那么两个盒子间的间距只有<code>30px</code>，不会是<code>50px</code></p>
<p>解决 margin 合并，我们可以给其中一个盒子套上一个父盒子，给父盒子设置 BFC</p>
<h3 id="margin-塌陷"><a href="#margin-塌陷" class="headerlink" title="margin 塌陷"></a>margin 塌陷</h3><p>效果： 一个父盒子中有一个子盒子，我们给子盒子设置<code>margin-top:xxpx</code>结果发现会带着父盒子一起移动（就效果和父盒子设置<code>margin-top:xxpx</code>的效果一样）</p>
<p>解决： 1、给父盒子设置 border，例如设置<code>border:1px solid red;</code> 2、给父盒子设置 BFC</p>
<h3 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h3><blockquote>
<p>块级格式化上下文 (block format context)</p>
</blockquote>
<p><strong>BFC 的布局规则</strong> *</p>
<ul>
<li>内部的 Box 会在垂直方向，一个接一个地放置。</li>
<li>Box 垂直方向的距离由 margin 决定。属于同一个 BFC 的两个相邻 Box 的 margin 会发生重叠。</li>
<li>每个盒子（块盒与行盒）的 margin box 的左边，与包含块 border box 的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此。</li>
<li>BFC 的区域不会与 float box 重叠。</li>
<li>BFC 就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此。</li>
<li>计算 BFC 的高度时，浮动元素也参与计算。</li>
</ul>
<p><strong>触发 BFC 的条件</strong> *</p>
<ul>
<li>根元素 html</li>
<li>float 的值不是 none。</li>
<li>position 的值 absoute、fixed</li>
<li>display 的值是 inline-block、table-cell、flex、table-caption 或者 inline-flex</li>
<li>overflow 的值不是 visible</li>
</ul>
<p><strong>解决什么问题</strong></p>
<ol>
<li><p>可以用来解决两栏布局<code>BFC 的区域不会与 float box 重叠</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: flet;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>解决 margin 塌陷和 margin 合并问题</p>
</li>
<li><p>解决浮动元素无法撑起父元素</p>
</li>
</ol>
<h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h3><blockquote>
<p>设为 Flex 布局以后，子元素的 float、clear 和 vertical-align 属性将失效</p>
<p>display:flex;</p>
<p>align-item:center;</p>
<p>justify-content:center;</p>
</blockquote>
<h3 id="什么是-rem、px、em-区别"><a href="#什么是-rem、px、em-区别" class="headerlink" title="什么是 rem、px、em 区别"></a>什么是 rem、px、em 区别</h3><blockquote>
<p>rem 是一个相对单位，<strong>rem 的是相对于 html 元素的字体大小</strong>，<strong>没有继承性</strong> （浏览器默认的大小） 16px</p>
<p>将网页等分成10份，html的字号为视窗的1/10  看视口宽度</p>
<p>@media (width:320px)  {  html { font-size :  32px}}  通过不断调节视窗宽度的 根据不同的视口来去设置不同的font-size</p>
<p>N*37.5  = 68px -&gt; N = 68/37.5</p>
<p>em 是一个相对单位，<strong>是相对于父元素字体大小有继承性</strong>  font-size 的大小有关系 如果父元素fs为20px 子元素的2em是40px</p>
<p>父元素没有的话去找根元素</p>
<p>px 是一个“绝对单位”，<strong>就是 css 中定义的像素</strong>，利用 px 设置字体大小及元素的宽高等，比较稳定和精确。</p>
</blockquote>
<h3 id="响应式布局"><a href="#响应式布局" class="headerlink" title="响应式布局"></a>响应式布局</h3><p><strong>响应式布局有哪些实现方式？什么是响应式设计？响应式设计的基本原理是什么？</strong></p>
<blockquote>
<p>1.百分比布局，但是无法对字体，边框等比例缩放</p>
<p>2.弹性盒子布局 display:flex</p>
<p>3.rem 布局，1rem=html 的 font-size 值的大小</p>
<ol start="4">
<li>css3 媒体查询 @media screen and(max-width: 750px){}</li>
</ol>
<p>5.vw+vh  1vw : viewport width  = *<em>1/100 视口宽度**</em> 1vh：viewport height 1vh=  <strong>1/100视口高度</strong></p>
<p>.box { width : (68/3.75vw)}  <strong>只能要么都用vw 要么用vh</strong></p>
<p>6.使用一些框架（bootstrap，vant）</p>
<p>什么是响应式设计：响应式网站设计是一个网站能够兼容多个终端，智能地根据不同设备环境进行相对应的布局 </p>
<p>响应式设计的基本原理：基本原理是通过媒体查询检测不同的设备屏幕尺寸设置不同的 css 样式 页面头部必须有 meta 声明的</p>
</blockquote>
<h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><ul>
<li><p>两栏布局,左边定宽，右边自适应</p>
</li>
<li><p>三栏布局、圣杯布局、双飞翼布局</p>
<p>margin-left  = -100%  可以去到最左边  给外部一个padding 100px 用相对布局</p>
</li>
</ul>
<p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/image-20220709200936520.png" alt="image-20220709200936520"></p>
<h3 id="水平垂直居中"><a href="#水平垂直居中" class="headerlink" title="水平垂直居中"></a>水平垂直居中</h3><p>方法一：给父元素设置成弹性盒子，子元素横向居中，纵向居中</p>
<p>方法二：父相子绝后，子部分向上移动本身宽度和高度的一半，也可以用 transfrom:translate(-50%,-50%)（最常用方法）</p>
<p>位移属性 translatex在x轴方向上进行移动，反之translatey实在y轴方向，而translate括号里的两个参数是先x后y的。</p>
<p>方法三：父相子绝，子元素所有定位为 0，margin 设置 auto 自适应</p>
<h3 id="iframe-有哪些缺点？"><a href="#iframe-有哪些缺点？" class="headerlink" title="iframe 有哪些缺点？"></a><strong>iframe</strong> <strong>有哪些缺点？</strong></h3><p>iframe 是一种框架，也是一种很常见的网页嵌入方 </p>
<p><strong>iframe 的优点：</strong> </p>
<ol>
<li>iframe 能够原封不动的把嵌入的网页展现出来。 </li>
<li>如果有多个网页引用 iframe，那么你只需要修改 iframe 的内容，就可以实现调用的每一个页面内容的更改，方便快捷。 </li>
<li>网页如果为了统一风格，头部和版本都是一样的，就可以写成一个页面，用 iframe 来嵌套，可以增加代码的可重用。 </li>
<li>如果遇到加载缓慢的第三方内容如图标和广告，这些问题可以由iframe 来解决。 </li>
</ol>
<p><strong>iframe 的缺点：</strong> </p>
<ol>
<li>会产生很多页面，不容易管理。 </li>
<li>iframe 框架结构有时会让人感到迷惑，如果框架个数多的话，可能会出现上下、左右滚动条，会分散访问者的注意力，用户体验度差。 </li>
<li>代码复杂，无法被一些搜索引擎索引到，这一点很关键，现在的搜索引擎爬虫还不能很好的处理 iframe 中的内容，所以使用 iframe 会不利于搜索引擎优化。 </li>
<li>很多的移动设备（PDA 手机）无法完全显示框架，设备兼容性差。 </li>
<li>iframe 框架页面会增加服务器的 http 请求，对于大型网站是不可取的。现在基本上都是用 Ajax 来代替 iframe，所以 iframe 已经渐渐的退出了前端开发。</li>
</ol>
<h3 id="link-import-导入-css"><a href="#link-import-导入-css" class="headerlink" title="link @import 导入 css"></a><strong>link @import</strong> <strong>导入</strong> <strong>css</strong></h3><blockquote>
<p>link 是 XHTML 标签，除了加载 CSS 外，还可以定义 RSS 等其他事务；<br>@import 属于 CSS 范畴，  只能加载 CSS。<br>link 引用 CSS 时，在页面载入时同时加载；@import 需要页面网页完全载入以后加载。link<br>无兼容问题；@import 是在 CSS2.1 提出的，低版本的浏览器不支持。<br>link 支持使用 Javascript 控制 DOM 去改变样式；而@import 不支持。</p>
</blockquote>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="DOM-事件机制-模型"><a href="#DOM-事件机制-模型" class="headerlink" title="DOM 事件机制/模型"></a>DOM 事件机制/模型</h3><blockquote>
<p>DOM0 级模型、IE 事件模型、DOM2 级事件模型</p>
</blockquote>
<p>就比如用户触发一个点击事件，有一个触发的过程</p>
<p>事件捕获-阶段（从上大小，从外到内）—&gt;处于目标事件-阶段—-&gt;事件冒泡-阶段（从下到上，从内到外）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(</span><br><span class="line">  <span class="string">&quot;click&quot;</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    event = event || <span class="built_in">window</span>.event <span class="comment">/*ie*/</span>;</span><br><span class="line">    <span class="keyword">const</span> target = event.target || event.srcElement; <span class="comment">/*ie*/</span> <span class="comment">// 拿到事件目标</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 阻止冒泡</span></span><br><span class="line">    <span class="comment">// event.stopPropagation()</span></span><br><span class="line">    <span class="comment">// event.cancelBubble=true; // ie</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 阻止默认事件</span></span><br><span class="line">    <span class="comment">// event.preventDefault();</span></span><br><span class="line">    <span class="comment">// event.returnValue=false; // ie</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/* 是否使用捕获，默认是fasle, */</span> fasle</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/44f3f89d86344aacb901cd841620bbff~tplv-k3u1fbpfcp-watermark.awebp" alt="事件传播.jpeg"></p>
<h4 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h4><p>简介：事件委托指的是，不在事件的发生地（直接 dom）上设置监听函数，而是</p>
<p>在其父元素上设置监听函数，通过事件冒泡，父元素可以监听到子元素上事件的</p>
<p>触发，通过判断事件发生元素 DOM 的类型，来做出不同的响应。</p>
<p>举例：最经典的就是 ul 和 li 标签的事件监听，比如我们在添加事件时候，采用</p>
<p>事件委托机制，不会在 li 标签上直接添加，而是在 ul 父元素上添加。</p>
<p>好处：比较合适动态元素的绑定，新添加的子元素也会有监听函数，也可以有事</p>
<p>件触发机制</p>
<h3 id="如果需要手动写动画，你认为最小时间间隔是多久"><a href="#如果需要手动写动画，你认为最小时间间隔是多久" class="headerlink" title="如果需要手动写动画，你认为最小时间间隔是多久"></a>如果需要手动写动画，你认为最小时间间隔是多久</h3><blockquote>
<p>多数显示器默认频率是 60Hz，即 1 秒刷新 60 次，所以理论上最小间隔为 <code>1/60＊1000ms = 16.7ms </code></p>
</blockquote>
<h3 id="before和-after中双冒号和单冒号有什么区别"><a href="#before和-after中双冒号和单冒号有什么区别" class="headerlink" title="::before和:after中双冒号和单冒号有什么区别"></a>::before和:after中双冒号和单冒号有什么区别</h3><p>单冒号(:)用于 CSS3 伪类，双冒号(::)用于 CSS3 伪元素。 ::before 就是以一个子元素的存在，定义在元素主体内容之前的一个伪元素。并不存在于 dom 之中，只存在在页面之中。 :before 和 :after 这两个伪元素，是在 CSS2.1 里新出现的。起初，伪元素的前缀使用的是单 冒号语法，但随着 Web 的进化，在 CSS3 的规范里，伪元素的语法被修改成使用双冒号，成 为::before ::after</p>
<h3 id="CSS-sprites-精灵图"><a href="#CSS-sprites-精灵图" class="headerlink" title="CSS sprites 精灵图"></a>CSS sprites 精灵图</h3><p>CSS Sprites 其实就是把网页中一些背景图片整合到一张图片文件中，再利用 CSS 的 <code>“background-image”，“ background-repeat ”，“ background-position”</code> 的 组 合 进 行 背 景 定 位 ， background-position 可以用数字能精确的定位出背景图片的位置。这样可以减少很多图片请 求的开销，因为请求耗时比较长；请求虽然可以并发，但是也有限制，一般浏览器都是 6 个</p>
<h3 id="重排和重绘"><a href="#重排和重绘" class="headerlink" title="重排和重绘"></a>重排和重绘</h3><p>重绘（repaint 或 redraw）：当盒子的位置、大小以及其他属性，例如颜色、字 体大小等都确定下来之后，浏览器便把这些原色都按照各自的特性绘制一遍，将内容呈现在页面上。重绘是指一个元素外观的改变所触发的浏览器行为，浏览器 会根据元素的新属性重新绘制，使元素呈现新的外观。<br>触发重绘的条件：改变元素外观属性。如：color，background-color 等。 注意：table 及其内部元素可能需要多次计算才能确定好其在渲染树中节点的属性值，比同等元素要多花两倍时间，这就是我们尽量避免使用 table 布局页面的 原因之一。<br>重排（重构/回流/reflow）：当渲染树中的一部分(或全部)因为元素的规模尺寸， 布局，隐藏等改变而需要重新构建, 这就称为回流(reflow)。每个页面至少需要 一次回流，就是在页面第一次加载的时候。<br>重绘和重排的关系：在回流的时候，浏览器会使渲染树中受到影响的部分失效， 并重新构造这部分渲染树，完成回流后，浏览器会重新绘制受影响的部分到屏幕 中，该过程称为重绘。所以，重排必定会引发重绘，但重绘不一定会引发重排。</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h3 id="RegExp"><a href="#RegExp" class="headerlink" title=".RegExp"></a>.RegExp</h3><p>正则表达式，通过正则表达式来进行匹配相对应的字符串</p>
<h3 id="js-数据类型"><a href="#js-数据类型" class="headerlink" title="js 数据类型"></a>js 数据类型</h3><p>8 中, <code>ES6</code>出的 <code>Symbol BigInt</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">基本类型 Number String Boolean undefined null </span><br><span class="line">引用类型 Object Symbol BigInt</span><br></pre></td></tr></table></figure>
<h3 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h3><p>ES6引入了一种新的<code>原始数据类型Symbol</code>，表示独一无二的值。</p>
<p>都是独一无二的，可以保证不会与其他属性名产生冲突。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(s1 === s2)</span><br><span class="line"><span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sym = <span class="built_in">Symbol</span>(<span class="string">&#x27;My symbol&#x27;</span>);</span><br><span class="line"><span class="string">&quot;your symbol is &quot;</span> + sym</span><br><span class="line"><span class="comment">// TypeError: can&#x27;t convert symbol to string</span></span><br><span class="line"><span class="string">`your symbol is <span class="subst">$&#123;sym&#125;</span>`</span></span><br><span class="line"><span class="comment">// TypeError: can&#x27;t convert symbol to string</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Symbol</span>值不能与其它类型的值进行运算，会报错。</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">	mySymbol:<span class="string">&quot;name&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line">a[mySymbol] = <span class="string">&#x27;Hello!&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>js 的基本数据类型和复杂数据类型的区别（在堆和栈中，赋值时的不同,一个拷贝值一个拷贝地址）</p>
<p><strong>基本类型和引用类型在内存上存储的区别</strong></p>
<p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/89b70c934a0f436d90364287d706971a~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p>
<p><strong>null 与 undefined 的异同</strong></p>
<p><strong>相同点：</strong></p>
<ul>
<li>Undefined 和 Null 都是基本数据类型，这两个基本数据类型分别都只有一个值，就是 undefined 和 null</li>
</ul>
<p><strong>不同点：</strong></p>
<ul>
<li><p>null 转换成数字是 0, undefined 转换数字是<code>NaN</code></p>
</li>
<li><p>undefined 代表的含义是未定义， null 代表的含义是空对象。</p>
</li>
<li><p>typeof null 返回’object’，typeof undefined 返回’undefined’</p>
</li>
<li><p>```js<br>null == undefined; // true<br>null === undefined; // false</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- 其实 null 不是对象，虽然 typeof null 会输出 object，但是这只是 JS 存在的一个悠久 Bug。在 JS 的最初版本中使用的是 32 位系统，为了性能考虑使用低位存储变量的类型信息，000 开头代表是对象，然而 null 表示为全零，所以将它错误的判断为 object 。虽然现在的内部类型判断代码已经改变了，但是对于这个 Bug 却是一直流传下来。</span><br><span class="line"></span><br><span class="line">**说说 JavaScript 中判断数据类型的几种方法**</span><br><span class="line"></span><br><span class="line">**typeof**</span><br><span class="line"></span><br><span class="line">- &#96;typeof&#96;一般用来判断基本数据类型，**除了判断 null 会输出&quot;object&quot;，其它都是正确的**</span><br><span class="line">- &#96;typeof&#96;判断引用数据类型时，**除了判断函数会输出&quot;function&quot;,其它都是输出&quot;object&quot;**</span><br><span class="line"></span><br><span class="line">**instanceof**</span><br><span class="line"></span><br><span class="line">&gt; Instanceof 可以准确的判断引用数据类型，它的原理是检测构造函数的&#96;prototype&#96;属性是否在某个实例对象的原型链上， 不能判断基本数据类型</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;js</span><br><span class="line">&#x2F;&#x2F; instanceof 的实现</span><br><span class="line">function instanceofOper(left, right) &#123;</span><br><span class="line">  const prototype &#x3D; right.prototype;</span><br><span class="line">  while (left) &#123;</span><br><span class="line">    if ((left &#x3D; left.__proto__) &#x3D;&#x3D;&#x3D; prototype) &#123;</span><br><span class="line">      return true;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return false;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; let obj  &#x3D; &#123;&#125;</span><br><span class="line">&#x2F;&#x2F; Object.getPrototypeOf(obj) &#x3D;&#x3D;&#x3D; obj.__proto__ &#x3D;&#x3D;&gt; true</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现 instanceof 2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myInstanceof</span>(<span class="params">left, right</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 这里先用typeof来判断基础数据类型，如果是，直接返回false</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> left !== <span class="string">&quot;object&quot;</span> || left === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">// getProtypeOf是Object对象自带的API，能够拿到参数的原型对象</span></span><br><span class="line">  <span class="keyword">let</span> proto = <span class="built_in">Object</span>.getPrototypeOf(left);</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (proto === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (proto === right.prototype) <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//找到相同原型对象，返回true</span></span><br><span class="line">    proto = <span class="built_in">Object</span>.getPrototypeof(proto);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>Object.prototype.toString.call()</strong> 返回 <code>[object Xxxx]</code> 都能判断</p>
<h3 id="深拷贝和浅拷贝"><a href="#深拷贝和浅拷贝" class="headerlink" title="深拷贝和浅拷贝"></a>深拷贝和浅拷贝</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">b</span>: <span class="string">&quot;xxx&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> arr = [&#123; <span class="attr">a</span>: <span class="string">&quot;ss&quot;</span> &#125;, obj, <span class="number">333</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 赋值</span></span><br><span class="line"><span class="keyword">let</span> arr2 = arr;</span><br><span class="line"><span class="comment">// 浅拷贝-只拷贝了一层，深层次的引用还是存在</span></span><br><span class="line"><span class="comment">// Object.assign(), ...扩展运算符，slice等</span></span><br><span class="line"><span class="keyword">let</span> arr2 = arr.slice();</span><br><span class="line"><span class="keyword">let</span> arr2 = [...arr];</span><br><span class="line">obj.b = <span class="string">&quot;222&quot;</span>; <span class="comment">// arr2[1].b =&gt; 222</span></span><br><span class="line"><span class="comment">// arr[2] = 4444 ==&gt; arr2[2] ===&gt; 333</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 深拷贝</span></span><br><span class="line"><span class="comment">// 1. 最简单的，JSON.stringify，但这个有问题，看下面有说明</span></span><br><span class="line"><span class="keyword">let</span> arr2 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(arr));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 自己封装，要递归处理</span></span><br></pre></td></tr></table></figure>


<p>实现深拷贝-简单版</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj, map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!obj &amp;&amp; <span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span>) <span class="keyword">return</span> obj;</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(obj);</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">RegExp</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">RegExp</span>(obj.source, obj.flags);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (map.get(obj)) &#123;</span><br><span class="line">    <span class="comment">//  如果有循环引用、就返回这个对象</span></span><br><span class="line">    <span class="keyword">return</span> map.get(obj);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> cloneObj = obj.constructor(); <span class="comment">// 数组的就是[],对象就是&#123;&#125;</span></span><br><span class="line"></span><br><span class="line">  map.set(obj, cloneObj); <span class="comment">// 缓存对象，用于循环引用的情况</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">      cloneObj[key] = deepClone(obj[key], map);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> cloneObj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="JSON-stringify-问题"><a href="#JSON-stringify-问题" class="headerlink" title="JSON.stringify 问题"></a><code>JSON.stringify</code> 问题</h3><ol>
<li><p>如果有循环引用就报错</p>
<p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/c224a6d165a14d969c014170533c13dd.png" alt="img"></p>
</li>
<li><p><code>Symbol</code>、<code>function</code>、<code>undefined</code>会丢失</p>
</li>
<li><p><code>布尔值</code>、<code>数字</code>、<code>字符串</code>的包装对象会转换成原始值</p>
</li>
<li><p><code>NaN</code>、<code>Infinity</code> 变成 <code>null</code></p>
</li>
<li><p><code>Date</code>类型的日期会变成字符串</p>
</li>
<li><p><code>RegExp</code>、<code>Error</code>被转换成了空对象 <code>&#123;&#125;</code></p>
</li>
</ol>
<p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/53927bb12f094d69b84298c445e4d088.png" alt="img"></p>
<h3 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h3><ul>
<li><p><code>commonjs</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 由nodejs实现</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>); <span class="comment">// 引入</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;&#125;;</span><br></pre></td></tr></table></figure></li>
<li><p>ESM</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 由es6实现</span></span><br><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">&quot;jquery&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> $;</span><br></pre></td></tr></table></figure></li>
<li><p>AMD（异步加载模块）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 由RequireJS实现</span></span><br><span class="line">define([<span class="string">&quot;juqery&quot;</span>, <span class="string">&quot;vue&quot;</span>], <span class="function"><span class="keyword">function</span> (<span class="params">$, Vue</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 依赖必须一开始就写好</span></span><br><span class="line">  $(<span class="string">&quot;#app&quot;</span>);</span><br><span class="line">  <span class="keyword">new</span> Vue(&#123;&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>CMD</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 由SeaJS 实现</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">require</span>, <span class="built_in">exports</span>, <span class="built_in">module</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="built_in">require</span>(<span class="string">&quot;./a&quot;</span>);</span><br><span class="line">  a.doSomething();</span><br><span class="line">  <span class="comment">// ....</span></span><br><span class="line">  <span class="keyword">var</span> b = <span class="built_in">require</span>(<span class="string">&quot;./b&quot;</span>); <span class="comment">// 依赖可以就近书写</span></span><br><span class="line">  b.doSomething();</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>UMD (通用加载模块)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">global</span>, factory</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">typeof</span> <span class="built_in">exports</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> <span class="built_in">module</span> !== <span class="string">&#x27;undefined&#x27;</span> ? <span class="built_in">module</span>.exports = factory() :</span><br><span class="line">  <span class="keyword">typeof</span> define === <span class="string">&#x27;function&#x27;</span> &amp;&amp; define.amd ? define(factory) :</span><br><span class="line">  (<span class="built_in">global</span> = <span class="built_in">global</span> || self, <span class="built_in">global</span>.Vue = factory());</span><br><span class="line">&#125;(<span class="built_in">this</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="string">&#x27;use strict&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="AMD-异步模块定义-和-CMD-通用模块定义-的区别有哪些"><a href="#AMD-异步模块定义-和-CMD-通用模块定义-的区别有哪些" class="headerlink" title="AMD 异步模块定义  和 CMD 通用模块定义 的区别有哪些"></a>AMD 异步模块定义  和 CMD 通用模块定义 的区别有哪些</h4></li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_38912819/article/details/80597101">https://blog.csdn.net/qq_38912819/article/details/80597101</a></p>
</blockquote>
<ol>
<li>对于依赖的模块，AMD 是<strong>提前执行</strong>，CMD 是<strong>延迟执行</strong>。不过 RequireJS 从 2.0 开始，也改成可以延迟执行（根据写法不同，处理方式不同）</li>
<li>CMD 推崇<strong>依赖就近</strong>，AMD 推崇<strong>依赖前置</strong></li>
</ol>
<h4 id="CommonJS-与-ES6-Module-的差异"><a href="#CommonJS-与-ES6-Module-的差异" class="headerlink" title="CommonJS 与 ES6 Module 的差异"></a>CommonJS 与 ES6 Module 的差异</h4><p><strong>CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用。</strong></p>
<ul>
<li>CommonJS 模块输出的是值的拷贝，也就是说，一旦输出一个值，模块内部的变化就影响不到这个值。</li>
<li>ES6 模块的运行机制与 CommonJS 不一样。JS 引擎对脚本静态分析的时候，遇到模块加载命令<code>import</code>，就会生成一个只读<strong>引用</strong>。等到脚本真正执行时，再根据这个只读引用，到被加载的那个模块里面去取值。换句话说，ES6 的<code>import</code>有点像 Unix 系统的“符号连接”，原始值变了，<code>import</code>加载的值也会跟着变。因此，ES6 模块是<strong>动态引用</strong>，并且不会<strong>缓存值</strong>，模块里面的变量绑定其所在的模块。</li>
</ul>
<p><strong>CommonJS 模块是运行时加载，ES6 模块是编译时输出接口。</strong></p>
<ul>
<li>运行时加载: CommonJS 模块就是对象；即在输入时是先<strong>加载整个模块</strong>，<strong>生成一个对象</strong>，然后再从这个对象上面读取方法，这种加载称为“<strong>运行时加载</strong>”。</li>
<li>编译时加载: ES6 模块不是对象，而是通过 <code>export</code> 命令显式指定输出的代码，<code>import</code>时采用静态命令的形式。即在<code>import</code>时可以指定加载某个输出值，而不是加载整个模块，这种加载称为“编译时加载”。</li>
</ul>
<p><strong>CommonJS 加载的是一个对象（即 module.exports 属性），该对象只有在脚本运行完才会生成。而 ES6 模块不是对象，它的对外接口只是一种静态定义，在代码静态解析阶段就会生成。</strong></p>
<h3 id="JS-延迟加载的方式"><a href="#JS-延迟加载的方式" class="headerlink" title="JS 延迟加载的方式"></a>JS 延迟加载的方式</h3><p>JavaScript 会阻塞 DOM 的解析，因此也就会阻塞 DOM 的加载。所以有时候我们希望延迟 JS 的加载来提高页面的加载速度。</p>
<ul>
<li>把 JS 放在页面的最底部</li>
<li>script 标签的 defer 属性：脚本会立即下载但延迟到整个页面加载完毕再执行。该属性对于内联脚本无作用 (即没有 <strong>「src」</strong> 属性的脚本）。</li>
<li>Async 是在外部 JS 加载完成后，浏览器空闲时，Load 事件触发前执行，标记为 async 的脚本并不保证按照指定他们的先后顺序执行，该属性对于内联脚本无作用 (即没有 <strong>「src」</strong> 属性的脚本）。</li>
<li>动态创建 script 标签，监听 dom 加载完毕再引入 js 文件</li>
</ul>
<h3 id="call、apply-、bind"><a href="#call、apply-、bind" class="headerlink" title="call、apply 、bind"></a>call、apply 、bind</h3><blockquote>
<p>call，apply, bind 都是改变 this 指向，bind 不会立即执行，会返回的是一个绑定 this 的新函数</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903728147857415">面试官问：能否模拟实现 JS 的 call 和 apply 方法</a></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">obj.call(<span class="built_in">this</span>指向, 参数<span class="number">1</span>， 参数<span class="number">2</span>)</span><br><span class="line">obj.apply(<span class="built_in">this</span>指向, [参数<span class="number">1</span>， 参数<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>, age)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">name</span>:<span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">const</span> result = fn.bind(obj) <span class="comment">// bind会返回一个新的函数</span></span><br><span class="line">result(<span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现一个 apply</span></span><br><span class="line"><span class="built_in">Function</span>.prototype.myApply = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line">  context = context || <span class="built_in">window</span>;</span><br><span class="line">  <span class="keyword">const</span> fn = <span class="built_in">Symbol</span>();</span><br><span class="line">  context[fn] = <span class="built_in">this</span>;</span><br><span class="line">  <span class="keyword">var</span> res = context[fn](...arguments[<span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">delete</span> context[fn];</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>实现一个 bind</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 最终版 删除注释 详细注释版请看上文</span></span><br><span class="line"><span class="built_in">Function</span>.prototype.bind =</span><br><span class="line">  <span class="built_in">Function</span>.prototype.bind ||</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">thisArg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">this</span> !== <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="built_in">this</span> + <span class="string">&quot; must be a function&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> self = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> bound = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> boundArgs = [].slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">      <span class="keyword">var</span> finalArgs = args.concat(boundArgs);</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span> <span class="keyword">instanceof</span> bound) &#123;</span><br><span class="line">        <span class="keyword">if</span> (self.prototype) &#123;</span><br><span class="line">          <span class="function"><span class="keyword">function</span> <span class="title">Empty</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">          Empty.prototype = self.prototype;</span><br><span class="line">          bound.prototype = <span class="keyword">new</span> Empty();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> result = self.apply(<span class="built_in">this</span>, finalArgs);</span><br><span class="line">        <span class="keyword">var</span> isObject = <span class="keyword">typeof</span> result === <span class="string">&quot;object&quot;</span> &amp;&amp; result !== <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">var</span> isFunction = <span class="keyword">typeof</span> result === <span class="string">&quot;function&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (isObject || isFunction) &#123;</span><br><span class="line">          <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> self.apply(thisArg, finalArgs);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> bound;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>
<h3 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a><a name="debounce">防抖</a></h3><blockquote>
<p>debounce 所谓防抖，就是指触发<strong>事件后在 n 秒内函数只能执行一次</strong>，<strong>如果在 n 秒内又触发了事件，则会重新计算函数执行时间。</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, wait, immediate</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timeout;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> context = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">const</span> args = [...arguments];</span><br><span class="line">    <span class="keyword">if</span> (timeout) <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">    <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">      <span class="keyword">const</span> callNow = !timeout;</span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        timeout = <span class="literal">null</span>;</span><br><span class="line">      &#125;, wait);</span><br><span class="line">      <span class="keyword">if</span> (callNow) func.apply(context, args);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        func.apply(context, args);</span><br><span class="line">      &#125;, wait);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="节流"><a href="#节流" class="headerlink" title="节流"></a><a name="throttle">节流</a></h3><blockquote>
<p>就是指连续触发事件但是在 <strong>n 秒中只执行一次函数</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, wait</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> pre = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> now = <span class="built_in">Date</span>.now();</span><br><span class="line">    <span class="keyword">if</span> (now - pre &gt;= wait) &#123;</span><br><span class="line">      fn.apply(<span class="built_in">this</span>, args);</span><br><span class="line">      pre = now;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>闭包是指有权访问另一个函数作用域中的变量的函数 ——《JavaScript 高级程序设计》</p>
<p>当函数可以记住并访问所在的词法作用域时，就产生了闭包，</p>
<p>即使函数是在当前词法作用域之外执行 ——《你不知道的 JavaScript》</p>
<ul>
<li>闭包用途：<ol>
<li>能够访问函数定义时所在的词法作用域(阻止其被回收)</li>
<li>私有化变量</li>
<li>模拟块级作用域</li>
<li>创建模块</li>
</ol>
</li>
<li>闭包缺点：会导致函数的变量一直保存在内存中，过多的闭包可能会导致内存泄漏</li>
</ul>
<h3 id="原型、原型链-高频"><a href="#原型、原型链-高频" class="headerlink" title="原型、原型链(高频)"></a>原型、原型链(高频)</h3><p><strong>原型:</strong> 对象中固有的<code>__proto__</code>属性，该属性指向对象的<code>prototype</code>原型属性。</p>
<p><strong>原型链:</strong> 当我们访问一个对象的属性时，如果这个对象内部不存在这个属性，那么它就会去它的原型对象里找这个属性，这个原型对象又会有自己的原型，于是就这样一直找下去，也就是原型链的概念。原型链的尽头一般来说都是<code>Object.prototype</code>所以这就是我们新建的对象为什么能够使用<code>toString()</code>等方法的原因。</p>
<p><strong>特点:</strong> <code>JavaScript</code>对象是通过引用来传递的，我们创建的每个新对象实体中并没有一份属于自己的原型副本。当我们修改原型时，与之相关的对象也会继承这一改变。</p>
<h3 id="this-指向、new-关键字"><a href="#this-指向、new-关键字" class="headerlink" title="this 指向、new 关键字"></a>this 指向、new 关键字</h3><p><code>this</code>对象是是执行上下文中的一个属性，它指向最后一次调用这个方法的对象，在全局函数中，<code>this</code><strong>等于</strong><code>window</code>，而当函数被作为某个对象调用时，this 等于那个对象。 在实际开发中，<code>this </code>的指向可以通过四种调用模式来判断。</p>
<ol>
<li>函数调用，当一个函数不是一个对象的属性时，直接作为函数来调用时，<code>this</code>指向全局对象。</li>
<li>方法调用，如果一个函数作为一个对象的方法来调用时，<code>this</code>指向这个对象。</li>
<li>构造函数调用，<code>this</code>指向这个用<code>new</code>新创建的对象。</li>
<li>第四种是 <code>apply 、 call 和 bind </code>调用模式，这三个方法都可以显示的指定调用函数的 this 指向。<code>apply</code>接收参数的是数组，<code>call</code>接受参数列表，`` bind<code>方法通过传入一个对象，返回一个</code>this<code>绑定了传入对象的新函数。这个函数的 </code>this<code>指向除了使用</code>new `时会被改变，其他情况下都不会改变。</li>
</ol>
<p><strong>new</strong></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903704663949325">面试官问：能否模拟实现 JS 的 new 操作符</a></p>
</blockquote>
<ol>
<li>首先创建了一个新的空对象</li>
<li>设置原型，将对象的原型设置为函数的<code>prototype</code>对象。</li>
<li>让函数的<code>this</code>指向这个对象，执行构造函数的代码（为这个新对象添加属性）</li>
<li>判断函数的返回值类型，如果是值类型，返回创建的对象。如果是引用类型，就返回这个引用类型的对象。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new 操作符的实现</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newOperator</span>(<span class="params">ctor</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> ctor !== <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&quot;newOperator function the first param must be a function&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  newOperator.target = ctor;</span><br><span class="line">  <span class="keyword">var</span> newObj = <span class="built_in">Object</span>.create(ctor.prototype);</span><br><span class="line">  <span class="keyword">var</span> argsArr = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">var</span> ctorReturnResult = ctor.apply(newObj, argsArr);</span><br><span class="line">  <span class="keyword">var</span> isObject =</span><br><span class="line">    <span class="keyword">typeof</span> ctorReturnResult === <span class="string">&quot;object&quot;</span> &amp;&amp; ctorReturnResult !== <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">var</span> isFunction = <span class="keyword">typeof</span> ctorReturnResult === <span class="string">&quot;function&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> (isObject || isFunction) &#123;</span><br><span class="line">    <span class="keyword">return</span> ctorReturnResult;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="作用域、作用域链、变量提升"><a href="#作用域、作用域链、变量提升" class="headerlink" title="作用域、作用域链、变量提升"></a>作用域、作用域链、变量提升</h3><p><code>作用域</code>负责收集和维护由所有声明的标识符（变量）组成的一系列查询，并实施一套非常严格的规则，确定当前执行的代码对这些标识符的访问权限。(全局作用域、函数作用域、块级作用域)。 作用域链就是从当前作用域开始一层一层向上寻找某个变量，直到找到全局作用域还是没找到，就宣布放弃。这种一层一层的关系，就是<code>作用域链</code>。</p>
<h3 id="继承-含-es6-、多种继承方式"><a href="#继承-含-es6-、多种继承方式" class="headerlink" title="继承(含 es6)、多种继承方式"></a>继承(含 es6)、多种继承方式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 属性</span></span><br><span class="line">  <span class="built_in">this</span>.name = name || <span class="string">&quot;Animal&quot;</span>;</span><br><span class="line">  <span class="comment">// 实例方法</span></span><br><span class="line">  <span class="built_in">this</span>.sleep = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">&quot;正在睡觉！&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 原型方法</span></span><br><span class="line">Animal.prototype.eat = <span class="function"><span class="keyword">function</span> (<span class="params">food</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">&quot;正在吃：&quot;</span> + food);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>（1）第一种是以<code>原型链的方式来实现继承</code>，但是这种实现方式存在的缺点是，在包含有引用类型的数据时，会被所有的实例对象所共享，容易造成修改的混乱。还有就是在创建子类型的时候不能向超类型传递参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 原型链继承</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Cat.prototype = <span class="keyword">new</span> Animal(<span class="string">&quot;小黄&quot;</span>); <span class="comment">// 缺点 无法实现多继承 来自原型对象的所有属性被所有实例共享</span></span><br><span class="line">Cat.prototype.name = <span class="string">&quot;cat&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>（2）第二种方式是使用<code>借用构造函数</code>的方式，这种方式是通过在子类型的函数中调用超类型的构造函数来实现的，这一种方法解决了不能向超类型传递参数的缺点，但是它存在的一个问题就是无法实现函数方法的复用，并且超类型原型定义的方法子类型也没有办法访问到。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 借用构造函数继承</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Animal.call(<span class="built_in">this</span>, <span class="string">&quot;小黄&quot;</span>);</span><br><span class="line">  <span class="comment">// 缺点 只能继承父类实例的属性和方法，不能继承原型上的属性和方法。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（3）第三种方式是<code>组合继承</code>，组合继承是将原型链和借用构造函数组合起来使用的一种方式。通过借用构造函数的方式来实现类型的属性的继承，通过将子类型的原型设置为超类型的实例来实现方法的继承。这种方式解决了上面的两种模式单独使用时的问题，但是由于我们是以超类型的实例来作为子类型的原型，所以调用了两次超类的构造函数，造成了子类型的原型中多了很多不必要的属性。</p>
<p>（4）第四种方式是<code>原型式继承</code>，原型式继承的主要思路就是基于已有的对象来创建新的对象，实现的原理是，向函数中传入一个对象，然后返回一个以这个对象为原型的对象。这种继承的思路主要不是为了实现创造一种新的类型，只是对某个对象实现一种简单继承，ES5 中定义的 Object.create() 方法就是原型式继承的实现。缺点与原型链方式相同。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  F.prototype = o;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（5）第五种方式是<code>寄生式继承</code>，寄生式继承的思路是创建一个用于封装继承过程的函数，通过传入一个对象，然后复制一个对象的副本，然后对象进行扩展，最后返回这个对象。这个扩展的过程就可以理解是一种继承。这种继承的优点就是对一个简单对象实现继承，如果这个对象不是我们的自定义类型时。缺点是没有办法实现函数的复用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAnother</span>(<span class="params">original</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> clone = object(original); <span class="comment">//通过调用object函数创建一个新对象</span></span><br><span class="line">  clone.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//以某种方式来增强这个对象</span></span><br><span class="line">    alert(<span class="string">&quot;hi&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> clone; <span class="comment">//返回这个对象</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（6）第六种方式是<code>寄生式组合继承</code>，组合继承的缺点就是使用超类型的实例做为子类型的原型，导致添加了不必要的原型属性。寄生式组合继承的方式是使用超类型的原型的副本来作为子类型的原型，这样就避免了创建不必要的属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">subClass, superClass</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> prototype = object(superClass.prototype); <span class="comment">//创建对象</span></span><br><span class="line">  prototype.constructor = subClass; <span class="comment">//增强对象</span></span><br><span class="line">  subClass.prototype = prototype; <span class="comment">//指定对象</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><p>大家都知道 JS 中在使用运算符号或者对比符时，会自带隐式转换，规则如下:</p>
<p>-、*、/、% ：一律转换成数值后计算</p>
<p>+：</p>
<ul>
<li><p>数字 + 字符串 = 字符串， 运算顺序是从左到右</p>
</li>
<li><p>数字 + 对象， 优先调用对象的 valueOf -&gt; toString</p>
</li>
<li><p>数字 + boolean/null -&gt; 数字</p>
</li>
<li><p>数字 + undefined -&gt; NaN</p>
</li>
<li><p>[1].toString() === ‘1’ 内部调用 .join 方法</p>
</li>
<li><p>{}.toString() === ‘[object object]’</p>
</li>
<li><p>NaN ! == NaN   两个并不相等、+undefined   为 NaN</p>
</li>
</ul>
<h3 id="Object-is-与比较操作符-、-的区别？"><a href="#Object-is-与比较操作符-、-的区别？" class="headerlink" title="Object.is()与比较操作符==、===的区别？"></a>Object.is()与比较操作符<code>==</code>、<code>===</code>的区别？</h3><ul>
<li><code>==</code>会先进行类型转换再比较</li>
<li><code>===</code>比较时不会进行类型转换，类型不同则直接返回 false</li>
<li><code>Object.is()</code>在<code>===</code>基础上特别处理了<code>NaN</code>,<code>-0</code>,<code>+0</code>,保证-0 与+0 不相等，但 NaN 与 NaN 相等</li>
</ul>
<h4 id="操作符的强制类型转换规则"><a href="#操作符的强制类型转换规则" class="headerlink" title="==操作符的强制类型转换规则"></a><code>==</code>操作符的强制类型转换规则</h4><ul>
<li>字符串和数字之间的相等比较，将字符串转换为数字之后再进行比较。</li>
<li>其他类型和布尔类型之间的相等比较，先将布尔值转换为数字后，再应用其他规则进行比较。</li>
<li>null 和 undefined 之间的相等比较，结果为真。其他值和它们进行比较都返回假值。</li>
<li>对象和非对象之间的相等比较，对象先调用 ToPrimitive 抽象操作后，再进行比较。</li>
<li>如果一个操作值为 NaN ，则相等比较返回 false（ NaN 本身也不等于 NaN ）。</li>
<li>如果两个操作值都是对象，则比较它们是不是指向同一个对象。如果两个操作数都指向同一个对象，则相等操作符返回 true，否则，返回 false。</li>
</ul>
<p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/d5175667072fe77e2182f89306bcdb77.webp" alt="img"></p>
<h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><ol>
<li>新增 <strong>Symbol</strong> 类型 表示独一无二的值，用来定义独一无二的对象属性名;</li>
<li><strong>const/let</strong> 都是用来<strong>声明变量, ** **不可重复声明</strong>，具有块级作用域。存在暂时性死区，不存在变量提升。(const 一般用于声明常量);</li>
<li>变量的解构赋值(包含数组、对象、字符串、数字及布尔值,函数参数),剩余运算符(…rest);</li>
<li>模板字符串(<code>$&#123;data&#125;</code>);</li>
<li><code>...</code>扩展运算符(数组、对象);;</li>
<li>箭头函数;</li>
<li>Set 和 Map 数据结构;</li>
<li>Proxy/Reflect;</li>
<li><strong>Promise;</strong></li>
<li><strong>async</strong> 函数;</li>
<li>Class;</li>
<li><strong>Module 语法(import/export)。</strong></li>
</ol>
<h3 id="let-const"><a href="#let-const" class="headerlink" title="let/const"></a>let/const</h3><blockquote>
<p><code>const</code>声明一个只读的常量。一旦声明，常量的值就不能改变 <a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/let">https://es6.ruanyifeng.com/#docs/let</a></p>
</blockquote>
<p>var 在全局作用域中声明的变量会变成全局变量</p>
<p>let、const 和 var 的区别</p>
<ul>
<li><p>不允许重复声明</p>
</li>
<li><p>不存在变量提升</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var 的情况</span></span><br><span class="line"><span class="built_in">console</span>.log(foo); <span class="comment">// 输出undefined</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let 的情况</span></span><br><span class="line"><span class="built_in">console</span>.log(bar); <span class="comment">// 报错ReferenceError</span></span><br><span class="line"><span class="keyword">let</span> bar = <span class="number">2</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>暂时性死区（不能在未声明之前使用）</p>
<blockquote>
<p>注意暂时性死区和不存在变量提升不是同一个东西</p>
</blockquote>
<p>只要块级作用域内存在<code>let</code>命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tmp = <span class="number">123</span>; <span class="comment">// 声明了 tmp</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  tmp = <span class="string">&quot;abc&quot;</span>; <span class="comment">// ReferenceError</span></span><br><span class="line">  <span class="keyword">let</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>块级作用域：用 let 和 const 声明的变量，在这个块中会形成块级作用域</p>
<p><strong>es5 只有函数作用域和全局作用域</strong></p>
<p>IIFE <code>立即执行函数表达式</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IIFE 写法</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> tmp = ...;</span><br><span class="line">  ...</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 块级作用域写法</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> tmp = ...;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数声明</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="ES6-的一些叫法"><a href="#ES6-的一些叫法" class="headerlink" title="ES6 的一些叫法"></a>ES6 的一些叫法</h3></li>
<li><p>reset 参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...values</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> val <span class="keyword">of</span> values) &#123;</span><br><span class="line">    sum += val;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(<span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure></li>
<li><p>扩展运算符</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(...[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"><span class="comment">// 1 2 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b = &#123; ...&#123; <span class="attr">a</span>: <span class="string">&quot;2&quot;</span>, <span class="attr">b</span>: <span class="string">&quot;3&quot;</span> &#125; &#125;;</span><br></pre></td></tr></table></figure></li>
<li><p><code>?.</code> 可选链运算符</p>
<blockquote>
<p>左侧的对象是否为<code>null</code>或<code>undefined</code>。如果是的，就不再往下运算，而是返回<code>undefined</code></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a?.b;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">a == <span class="literal">null</span> ? <span class="literal">undefined</span> : a.b;</span><br><span class="line"><span class="comment">// 注意 undefined == null ==&gt; true</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>??</code> Null 判断运算符</p>
</li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/operator#Null-%E5%88%A4%E6%96%AD%E8%BF%90%E7%AE%97%E7%AC%A6">https://es6.ruanyifeng.com/#docs/operator#Null-%E5%88%A4%E6%96%AD%E8%BF%90%E7%AE%97%E7%AC%A6</a></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> headerText = response.settings.headerText ?? <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> animationDuration = response.settings.animationDuration ?? <span class="number">300</span>;</span><br><span class="line"><span class="keyword">const</span> showSplashScreen = response.settings.showSplashScreen ?? <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>
<p>但左侧的为 <code>undefined</code>或者<code>null</code>是就返回右边的，否则就直接返回左边的</p>
<h3 id="箭头函数和普通函数的区别"><a href="#箭头函数和普通函数的区别" class="headerlink" title="箭头函数和普通函数的区别"></a>箭头函数和普通函数的区别</h3><ol>
<li>箭头函数没有<code>this</code>，<code>this</code>是继承于当前的上下文，不能通过<code>call</code>,<code>apply</code>,<code>bind</code>去改变 this</li>
<li>箭头函数没有自己的 <code>arguments</code> 对象，但是可以访问外围函数的 <code>arguments </code>对象</li>
<li>不能通过<code> new</code> 关键字调用(不能作为构造函数)，同样也没有 <code>new.target</code> 和原型</li>
</ol>
<h3 id="如何解决异步回调地狱"><a href="#如何解决异步回调地狱" class="headerlink" title="如何解决异步回调地狱"></a><strong>如何解决异步回调地狱</strong></h3><p>promise、generator、async/await</p>
<h3 id="mouseover-和-mouseenter-的区别"><a href="#mouseover-和-mouseenter-的区别" class="headerlink" title="mouseover 和 mouseenter 的区别"></a><strong>mouseover</strong> <strong>和</strong> <strong>mouseenter</strong> <strong>的区别</strong></h3><p>mouseover：当<strong>鼠标移入元素或其子元素</strong>都会触发事件，所以有一个<strong>重复触发</strong>， </p>
<p><strong>冒泡</strong>的过程。对应的移除事件是 mouseout </p>
<p>mouseenter：当鼠标<strong>移除元素本身</strong>（不包含元素的子元素）会触发事件，也就是 </p>
<p>不会冒泡，对应的移除事件是 mouseleave </p>
<h3 id="setTimeout、setInterval-和-requestAnimationFrame-之间的区别"><a href="#setTimeout、setInterval-和-requestAnimationFrame-之间的区别" class="headerlink" title="setTimeout、setInterval 和 requestAnimationFrame 之间的区别"></a>setTimeout、setInterval 和 requestAnimationFrame 之间的区别</h3><p>与 setTimeout 和 setInterval 不同，requestAnimationFrame 不需要设置时间 间隔， 大多数电脑显示器的刷新频率是 60Hz，大概相当于每秒钟重绘 60 次。大多数浏 览器都会对重绘操作加以限制，不超过显示器的重绘频率，因为即使超过那个频 率用户体验也不会有提升。因此，最平滑动画的最佳循环间隔是 1000ms/60，约 等于 16.6ms。 RAF 采用的是系统时间间隔，不会因为前面的任务，不会影响 RAF，但是如果前 面的任务多的话，会响应 setTimeout 和 setInterval 真正运行时的时间间隔。 特点：</p>
<p>（1）requestAnimationFrame 会把<strong>每一帧中</strong>的<strong>所有 DOM 操作</strong>集中起来，在一次<strong>重绘或回流中</strong>就完成，并且重绘或回流的时间间隔紧紧跟随浏览器的刷新频率。<br>（2）在<strong>隐藏或不可见</strong>的元素中，requestAnimationFrame 将不会进行重绘或回流，这当然就意味着更少的CPU、GPU 和内存使用量<br>（3）requestAnimationFrame 是由浏览器专门为动画提供的 API，在运行时浏览 器会自动优化方法的调用，并且如果页面不是激活状态下的话，动画会自动暂停， 有效节省了 CPU 开销。 </p>
<h2 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h2><p>vue2 是通过<code>Object.defineProperty</code>来实现响应式的，所以就会有一些缺陷</p>
<ol>
<li>当修改一个对象的某个键值属性时，当这个键值没有在这个对象中，vue 不能做响应式处理</li>
<li>但直接修改数组的某一项（<code>arr[index]=&#39;xxx&#39;</code>）vue 不能做响应式处理</li>
</ol>
<p>可用下面的解决响应式</p>
<ol>
<li>Vue.set ==&gt; this.$set(对象\数组， key 值、index， value)</li>
<li>修改数组<code>length</code>, 调用数据的 <code>splice</code> 方法</li>
</ol>
<h3 id="vue-生命周期"><a href="#vue-生命周期" class="headerlink" title="vue 生命周期"></a>vue 生命周期</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">beforeCreate 实例化之前这里能拿到<span class="built_in">this</span>，但是还不能拿到data里面的数据</span><br><span class="line">created  实例化之后</span><br><span class="line">beforeMount()</span><br><span class="line">mounted() $el</span><br><span class="line">beforeUpdate</span><br><span class="line">updated</span><br><span class="line"></span><br><span class="line">beforeDestroy 清除定时/移除监听事件</span><br><span class="line">destroyed</span><br><span class="line"></span><br><span class="line"><span class="comment">// 被keep-alive 包裹的</span></span><br><span class="line"><span class="comment">// keep-alive 标签 include exclude max</span></span><br><span class="line"><span class="function"><span class="title">activated</span>(<span class="params"></span>)</span> &#123;&#125;,</span><br><span class="line"><span class="function"><span class="title">deactivated</span>(<span class="params"></span>)</span> &#123;&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 父子</span></span><br><span class="line">父beforeCreate-&gt;父created-&gt;父beforeMount-&gt;子beforeCreate-&gt;子created-&gt;子beforeMount-&gt;子mounted-&gt;父mounted。</span><br><span class="line"></span><br><span class="line"><span class="comment">// 离开页面：实例销毁 --&gt; DOM卸载 先父后子 先子后父</span></span><br><span class="line">parent  beforeDestroy</span><br><span class="line">child   beforeDestroy</span><br><span class="line">child   destroyed</span><br><span class="line">parent  destroyed</span><br></pre></td></tr></table></figure>
<p>1、创建前(beforeCreate)</p>
<p>此阶段为实例初始化之后，此时的数据观察和事件机制都未形成，不能获得DOM节点。</p>
<p>vue实例的挂载元素el和数据对象data都是undefined，还没有初始化。</p>
<p>2、创建后(created)</p>
<p>对应的钩子函数为created。在这个阶段vue实例已经创建，仍然不能获取DOM元素。</p>
<p>vue实例的数据对象data有了，可以访问里面的数据和方法，未挂载到DOM，el还没有</p>
<p>3、载入前(beforeMount)</p>
<p>在这一阶段，我们虽然依然得不到具体的DOM元素，但vue挂载的根节点已经创建，下面vue对DOM的操作将围绕这个根元素继续进行；beforeMount这个阶段是过渡性的，一般一个项目只能用到一两次。</p>
<h3 id="Vue-的-data-为什么是一个函数"><a href="#Vue-的-data-为什么是一个函数" class="headerlink" title="Vue 的 data 为什么是一个函数"></a>Vue 的 data 为什么是一个函数</h3><p>因为 Vue 的组件可能会在很多地方使用， 会产生多个实例，如果返回的是对象的， 这些组件之间的数据是同一份（引用关系），那么修改其中一个组件的数据，另外一个组件的数据都会被修改到</p>
<h3 id="Vue-key-值的作用"><a href="#Vue-key-值的作用" class="headerlink" title="Vue key 值的作用"></a>Vue key 值的作用</h3><blockquote>
<p>看这个视频，你能给面试官说这些，你就很不错了，vue 和 react 的差不多 <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1wy4y1D7JT?p=48">https://www.bilibili.com/video/BV1wy4y1D7JT?p=48</a></p>
</blockquote>
<p>…待更新</p>
<h3 id="Vue-双向数据绑定原理"><a href="#Vue-双向数据绑定原理" class="headerlink" title="Vue 双向数据绑定原理"></a>Vue 双向数据绑定原理</h3><blockquote>
<p>下面是照抄的一段话，个人觉得这个主要看个人理解，如果看过源码理解 MVVM 这方面的，就很简单</p>
</blockquote>
<p>vue.js 是采用<strong>数据劫持结合发布者-订阅者模式</strong>的方式，通过 Object.defineProperty()来劫持</p>
<p>各个属性的 setter，getter，在数据变动时发布消息给订阅者，触发相应的监听回调。</p>
<p>具体步骤：</p>
<p>第一步：需要 <strong>observe</strong> 的数据对象进行<strong>递归遍历</strong>，包括子属性对象的属性，都加上 setter和 getter</p>
<p>这样的话，给这个对象的某个值赋值，就会触发 setter，那么就能监听到了数据变化</p>
<p>第二步：compile 解析模板指令，将模板中的变量替换成数据，然后初始化渲染页面视图，</p>
<p>并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通</p>
<p>知，更新视图</p>
<p>第三步：Watcher 订阅者是 Observer 和 Compile 之间通信的桥梁，主要做的事情是:</p>
<p>1、在自身实例化时往属性订阅器(dep)里面添加自己</p>
<p>2、自身必须有一个 update()方法</p>
<p>3、待属性变动 dep.notice()通知时，能调用自身的 update()方法，并触发 Compile 中绑定的</p>
<p>回调，则功成身退。</p>
<p>第四步：MVVM 作为数据绑定的入口，整合 Observer、</p>
<p>Compile 和 Watcher 三者，通过 Observer</p>
<p>来监听自己的 model 数据变化，通过 Compile 来解析编译模板指令，最终利用 Watcher 搭起</p>
<p>Observer 和 Compile 之间的通信桥梁，达到数据变化 -&gt; 视图更新；视图交互变化(input) -&gt; 数</p>
<p>据 model 变更的双向绑定效果。</p>
<p>所以也可以根据这个来说明为什么 给<code>Vue</code>对象不存在的属性设置值的时候不生效，直接修改数组的<code>index</code>不生效</p>
<p>Vue 提供了 <code> Vue.set(对象|数组, key|index, 值)</code>修改触发响应式，重新数组的原型方法实现响应式</p>
<h3 id="Vue-extend-和-mixins"><a href="#Vue-extend-和-mixins" class="headerlink" title="Vue extend 和 mixins"></a>Vue extend 和 mixins</h3><p>vue extend 和 mixins 的区别， mixins 里面的 函数和本身的函数重名了使用哪一个，mixins 里面的生命周期和本身的生命周期哪一个先执行</p>
<p>…待更新</p>
<h3 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// component 动态组件，通过is设置要显示的组件</span></span><br><span class="line">&lt;component is=<span class="string">&quot;UserInfo&quot;</span> &gt;</span><br></pre></td></tr></table></figure>
<h3 id="递归组件"><a href="#递归组件" class="headerlink" title="递归组件"></a>递归组件</h3><p>就是给组件设置<code>name</code>，之后就可以在当前组件去递归使用组件</p>
<h3 id="Vue-组件间的传值的几种方式"><a href="#Vue-组件间的传值的几种方式" class="headerlink" title="Vue 组件间的传值的几种方式"></a>Vue 组件间的传值的几种方式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vue组件间的传值的几种方式</span></span><br><span class="line"><span class="number">1.</span> props/emit</span><br><span class="line"><span class="number">2.</span> $attrs/$listeners <span class="comment">// $attrs 除了父级作用域 props、class、style 之外的属性</span></span><br><span class="line"><span class="comment">// $listeners 父组件里面的所有的监听方法</span></span><br><span class="line"><span class="number">3.</span> $refs/$parent/$children/$root/</span><br><span class="line"><span class="number">4.</span> vuex</span><br><span class="line"><span class="number">5.</span> 事件总线，通过<span class="keyword">new</span> Vue去实现 / mitt &lt;==&gt; vue3</span><br><span class="line"><span class="number">6.</span> provide/inject</span><br><span class="line">    <span class="comment">// 父组件</span></span><br><span class="line">    props: &#123;&#125;,</span><br><span class="line">    <span class="function"><span class="title">provide</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        name: <span class="built_in">this</span>.name,</span><br><span class="line">        user: <span class="built_in">this</span>.user</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 子组件</span></span><br><span class="line">    props: &#123;&#125;,</span><br><span class="line">    inject: [<span class="string">&#x27;user&#x27;</span>]</span><br><span class="line"><span class="number">7.</span> 本地存储、全局变量</span><br></pre></td></tr></table></figure>
<h3 id="watch、mixins、组件顺序、组件配置"><a href="#watch、mixins、组件顺序、组件配置" class="headerlink" title="watch、mixins、组件顺序、组件配置"></a>watch、mixins、组件顺序、组件配置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;MyComponentName&quot;</span>,</span><br><span class="line">  mixins: [tableMixin],</span><br><span class="line">  components: &#123;&#125;,</span><br><span class="line">  inject: [<span class="string">&quot;xxx&quot;</span>],</span><br><span class="line">  <span class="comment">// props: [&#x27;value&#x27;, &#x27;visible&#x27;],</span></span><br><span class="line">  props: &#123;</span><br><span class="line">    id: <span class="built_in">String</span>,</span><br><span class="line">    type: &#123;</span><br><span class="line">      <span class="comment">// required: true,</span></span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">&quot;warning&quot;</span>,</span><br><span class="line">      <span class="function"><span class="title">validator</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&quot;primary&quot;</span>, <span class="string">&quot;warning&quot;</span>, <span class="string">&quot;danger&quot;</span>, <span class="string">&quot;success&quot;</span>, <span class="string">&quot;info&quot;</span>].includes(</span><br><span class="line">          val</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    list: &#123;</span><br><span class="line">      type: <span class="built_in">Array</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function">() =&gt;</span> [],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      name: <span class="string">&quot;张三&quot;</span>,</span><br><span class="line">      user: &#123; <span class="attr">name</span>: <span class="string">&quot;张三&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span><br><span class="line">      loading: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// vue2</span></span><br><span class="line">      obj: &#123;</span><br><span class="line">        name: <span class="string">&quot;李四~&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// vue2 会进行深度合并</span></span><br><span class="line">      <span class="comment">// obj  &#123;&quot;name&quot;:&quot;李四~&quot;,&quot;age&quot;:19&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// vue3 &#123; name: &quot;李四~&quot; &#125;</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// provide 不支持响应式，想支持响应式的话我们要传对象</span></span><br><span class="line">  <span class="function"><span class="title">provide</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      userName: <span class="built_in">this</span>.name,</span><br><span class="line">      user: <span class="built_in">this</span>.user,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    <span class="comment">// fullName() &#123;</span></span><br><span class="line">    <span class="comment">//   return &#x27;xxxxx&#x27;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    fullName: &#123;</span><br><span class="line">      <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.$store.state.userName;</span><br><span class="line">        <span class="comment">// return &#x27;李四&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="title">set</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.$store.commit(<span class="string">&quot;SET_NAME&quot;</span>, val);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  watch: &#123;</span><br><span class="line">    <span class="comment">// name(value) &#123;</span></span><br><span class="line">    <span class="comment">//   this.handlerName()</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// name: &#123;</span></span><br><span class="line">    <span class="comment">//   immediate: true,</span></span><br><span class="line">    <span class="comment">//   deep: true, //</span></span><br><span class="line">    <span class="comment">//   handler(val, oldValue) &#123;</span></span><br><span class="line">    <span class="comment">//     this.handlerName()</span></span><br><span class="line">    <span class="comment">//   &#125;,</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// this.obj.name = &#x27;xxxx&#x27; 这样不会执行</span></span><br><span class="line">    <span class="comment">// this.obj = &#123;name: &#x27;xxx&#x27;&#125; 这样才会执行</span></span><br><span class="line">    <span class="comment">// obj(value) &#123;</span></span><br><span class="line">    <span class="comment">//   console.log(&#x27; value: &#x27;, value)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">//  和上面等价</span></span><br><span class="line">    <span class="comment">// obj: &#123;</span></span><br><span class="line">    <span class="comment">//   handler(value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot; value: &quot;, value)</span></span><br><span class="line">    <span class="comment">//   &#125;,</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// this.obj.name = &#x27;xxxx&#x27; 这样去修改也能监听</span></span><br><span class="line">    <span class="comment">// obj: &#123;</span></span><br><span class="line">    <span class="comment">//   deep: true, // 深度监听</span></span><br><span class="line">    <span class="comment">//   immediate: true, // 第一次就用执行这个方法，可以理解为在 created 的时候会执行 handler</span></span><br><span class="line">    <span class="comment">//   handler(value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot; value: &quot;, value)</span></span><br><span class="line">    <span class="comment">//   &#125;,</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// obj: &#123;</span></span><br><span class="line">    <span class="comment">//   deep: true, // 深度监听</span></span><br><span class="line">    <span class="comment">//   immediate: true, // 第一次就用执行这个方法，可以理解为在 created 的时候会执行 handler</span></span><br><span class="line">    <span class="comment">//   handler: &#x27;handlerName&#x27;,</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// ==》</span></span><br><span class="line">    <span class="comment">// obj: &#x27;handlerName&#x27;</span></span><br><span class="line">    <span class="comment">// &#x27;$route.path&#x27;: &#123;&#125;,</span></span><br><span class="line">    <span class="comment">// &#x27;obj.a&#x27; : &#123;&#125;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;this&quot;</span>, <span class="built_in">this</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// this.handlerName()</span></span><br><span class="line">    <span class="built_in">this</span>.fullName = <span class="string">&quot;xxxx&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  this.fullName &#x27;李四&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="function"><span class="title">handlerName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.obj.name = <span class="string">&quot;xxxx&quot;</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h3><p>常用指令</p>
<ul>
<li><p><code>v-show</code> <code>dispaly none</code> 的切换</p>
</li>
<li><p><code>v-if</code>/<code>v-else</code></p>
</li>
<li><p><code>v-html </code></p>
</li>
<li><p><code>v-text</code></p>
</li>
<li><p><code>v-for</code> (vue2 <code>v-for</code>比<code>v-if</code>优先级高，vu3<code>v-if</code>优先级比<code>v-for</code>高 )</p>
</li>
<li><p><code>v-cloak</code> <code> [v-cloak] &#123;dispaly:none&#125;</code></p>
</li>
<li><p><code>v-once</code> 静态内容</p>
</li>
<li><p><code>v-bind </code>=&gt; <code>:</code> <code>v-on</code> =&gt; <code>@</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--- 可以直接 v-bind=&quot;object&quot; v-on=&quot;object&quot; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">v-bind</span>=<span class="string">&quot;$attrs&quot;</span> <span class="attr">v-on</span>=<span class="string">&quot;$listeners&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>v-model</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;keyword&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--- 等价下面这个 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">:value</span>=<span class="string">&quot;keyword&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;keyword = $event&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(<span class="string">&quot;指令名&quot;</span>, &#123;</span><br><span class="line">  <span class="comment">// 生命周期</span></span><br><span class="line">  <span class="comment">// 只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。</span></span><br><span class="line">  <span class="function"><span class="title">bind</span>(<span class="params">el, binding, vnode, oldVnode</span>)</span> &#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// binging.value 拿到指令值</span></span><br><span class="line">    <span class="comment">// binding.modifiers 修饰符对象</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)</span></span><br><span class="line">  <span class="function"><span class="title">inserted</span>(<span class="params"></span>)</span> &#123;&#125;,</span><br><span class="line">  <span class="function"><span class="title">update</span>(<span class="params"></span>)</span> &#123;&#125;,</span><br><span class="line">  <span class="function"><span class="title">componentUpdated</span>(<span class="params"></span>)</span> &#123;&#125;,</span><br><span class="line">  <span class="comment">// 只调用一次，指令与元素解绑时调用</span></span><br><span class="line">  <span class="function"><span class="title">unbind</span>(<span class="params"></span>)</span> &#123;&#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认绑定 bind update 的生命周期</span></span><br><span class="line">Vue.directive(<span class="string">&quot;指令名&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">el, binding, vnode, oldVnode</span>) </span>&#123;&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h3></li>
<li><p>.lazy、.number、.trim、.enter、.prevent、.self</p>
</li>
<li><p><code>.sync</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Dialog</span>  <span class="attr">:visible.sync</span>=<span class="string">&quot;visible&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--- 等价下面这个 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Dialog</span>  <span class="attr">:visible</span>=<span class="string">&quot;visible&quot;</span> @<span class="attr">update:visible</span>=<span class="string">&quot;visible = $event&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="scoped"><a href="#scoped" class="headerlink" title="scoped"></a>scoped</h3></li>
</ul>
<p>加了 scoped 就只作用于当前组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>渲染规则</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.a</span> <span class="selector-class">.b</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line">== &gt; .a .b[data-v-xx] &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.a</span> /<span class="selector-tag">deep</span>/ <span class="selector-class">.b</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line">== &gt; .a[data-v-xxx] .b &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.a</span> &gt;&gt;&gt; <span class="selector-class">.b</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line">== &gt; .a[data-v-xxx] .b &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.a</span> <span class="selector-pseudo">::v-deep</span> <span class="selector-class">.b</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line">== &gt; .a[data-v-xxx] .b &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a><code>vue-router</code></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局 路由守卫</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    mode: <span class="string">&#x27;hash&#x27;</span>, <span class="comment">// hash | history | abstract</span></span><br><span class="line">    <span class="comment">// 滚动位置</span></span><br><span class="line">    <span class="function"><span class="title">scrollBehavior</span>(<span class="params">to, <span class="keyword">from</span>, savedPosition</span>)</span> &#123;</span><br><span class="line">       <span class="keyword">if</span> (savedPosition) <span class="keyword">return</span> savedPosition</span><br><span class="line">       <span class="keyword">return</span> &#123; <span class="attr">y</span>: <span class="number">0</span> &#125;</span><br><span class="line">	&#125;,</span><br><span class="line">    routes: [</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">            <span class="comment">// 路由独享守卫</span></span><br><span class="line">            <span class="function"><span class="title">beforeEnter</span>(<span class="params">to, <span class="keyword">from</span>, next</span>)</span> &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 组件内的路由</span></span><br><span class="line"><span class="function"><span class="title">beforeRouteEnter</span>(<span class="params">to, <span class="keyword">from</span>, next</span>)</span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="title">beforeRouteUpdate</span>(<span class="params">to, <span class="keyword">from</span>, next</span>)</span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="title">beforeRouteLeave</span>(<span class="params">to, <span class="keyword">from</span>, next</span>)</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 跳转</span></span><br><span class="line"><span class="built_in">this</span>.$router.push(&#123;<span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">query</span>: &#123;&#125;&#125;)</span><br><span class="line"><span class="comment">// 路由信息</span></span><br><span class="line"><span class="built_in">this</span>.$route.query <span class="built_in">this</span>.$route.params</span><br></pre></td></tr></table></figure>
<h3 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a><code>vuex</code></h3><p>state getters mutations actions modules</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// state</span></span><br><span class="line"><span class="built_in">this</span>.$store.state.userInfo;</span><br><span class="line"><span class="comment">// getters</span></span><br><span class="line"><span class="built_in">this</span>.$store.getters.userInfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mutations</span></span><br><span class="line"><span class="built_in">this</span>.$store.commit(<span class="string">&quot;SET_USER_INFO&quot;</span>, <span class="string">&quot;传递数据&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// actions</span></span><br><span class="line"><span class="built_in">this</span>.$store.dispatch(<span class="string">&quot;logout&quot;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// -----------------------------------</span></span><br><span class="line"><span class="comment">// modules &gt; user</span></span><br><span class="line"><span class="comment">// namespaced: true,</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// state 拿 name</span></span><br><span class="line"><span class="built_in">this</span>.$store.state.user.avatar;</span><br><span class="line"><span class="comment">// getters</span></span><br><span class="line"><span class="built_in">this</span>.$store.getters.user.avatar;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mutations</span></span><br><span class="line"><span class="built_in">this</span>.$store.commit(<span class="string">&quot;user/SET_TOKEN&quot;</span>, <span class="string">&quot;传递数据&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// actions</span></span><br><span class="line"><span class="built_in">this</span>.$store.dispatch(<span class="string">&quot;user/login&quot;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// -----------------------------------</span></span><br><span class="line"><span class="comment">// modules &gt; user</span></span><br><span class="line"><span class="comment">// namespaced: false,</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// state 拿 name</span></span><br><span class="line"><span class="built_in">this</span>.$store.state.user.avatar;</span><br><span class="line"><span class="comment">// getters</span></span><br><span class="line"><span class="built_in">this</span>.$store.getters.user.avatar;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mutations</span></span><br><span class="line"><span class="built_in">this</span>.$store.commit(<span class="string">&quot;SET_TOKEN&quot;</span>, <span class="string">&quot;传递数据&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// actions</span></span><br><span class="line"><span class="built_in">this</span>.$store.dispatch(<span class="string">&quot;login&quot;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;&#125;);</span><br></pre></td></tr></table></figure>
<p>辅助函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mapState, mapGetters, mapMutations, mapActions;</span><br></pre></td></tr></table></figure>
<h2 id="vue3"><a href="#vue3" class="headerlink" title="vue3"></a>vue3</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6999687348120190983">Vue3 的 8 种和 Vue2 的 12 种组件通信，值得收藏</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7026249448233631752">聊一聊 Vue3 的 9 个知识点</a></p>
</blockquote>
<p><strong>Vue3 有哪些变化</strong></p>
<ul>
<li>新增了三个组件：<code>Fragment</code> 支持多个根节点、<code>Suspense</code> 可以在组件渲染之前的等待时间显示指定内容、<code>Teleport</code> 可以让子组件能够在视觉上跳出父组件(如父组件 overflow:hidden)</li>
<li>新增指令 <code>v-memo</code>，可以缓存 html 模板，比如 v-for 列表不会变化的就缓存，简单说就是用内存换时间</li>
<li>支持 <code>Tree-Shaking</code>，会在打包时去除一些无用代码，没有用到的模块，使得代码打包体积更小</li>
<li>新增 <code>Composition API</code> 可以更好的逻辑复用和代码组织，同一功能的代码不至于像以前一样太分散，虽然 Vue2 中可以用 minxin 来实现复用代码，但也存在问题，比如方法或属性名会冲突，代码来源也不清楚等</li>
<li>用 <code>Proxy</code> 代替 <code>Object.defineProperty</code> 重构了响应式系统，可以监听到数组下标变化，及对象新增属性，因为监听的不是对象属性，而是对象本身，还可拦截 apply、has 等 13 种方法</li>
<li>重构了虚拟 DOM，在编译时会将事件缓存、将 slot 编译为 lazy 函数、保存静态节点直接复用(静态提升)、以及添加静态标记、Diff 算法使用 最长递增子序列 优化了对比流程，使得虚拟 DOM 生成速度提升 <code>200%</code></li>
<li>支持在 <code>&lt;style&gt;&lt;/style&gt;</code> 里使用 <code>v-bind</code>，给 CSS 绑定 JS 变量(<code>color: v-bind(str)</code>)</li>
<li>用 <code>setup</code> 代替了 beforeCreate 和 created 这两个生命周期</li>
<li>新增了<strong>开发环境</strong>的两个钩子函数，在组件更新时 <code>onRenderTracked</code> 会跟踪组件里所有变量和方法的变化、每次触发渲染时 <code>onRenderTriggered</code> 会返回发生变化的新旧值，可以让我们进行有针对性调试</li>
<li>毕竟 Vue3 是用 <code>TS</code> 写的，所以对 <code>TS</code> 的支持度更好</li>
<li>Vue3 不兼容 <code>IE11</code></li>
</ul>
<h3 id="vue3-生命周期"><a href="#vue3-生命周期" class="headerlink" title="vue3 生命周期"></a>vue3 生命周期</h3><table>
<thead>
<tr>
<th>选项式 API</th>
<th>Hook inside <code>setup</code></th>
</tr>
</thead>
<tbody><tr>
<td><code>beforeCreate</code></td>
<td>Not needed*</td>
</tr>
<tr>
<td><code>created</code></td>
<td>Not needed*</td>
</tr>
<tr>
<td><code>beforeMount</code></td>
<td><code>onBeforeMount</code></td>
</tr>
<tr>
<td><code>mounted</code></td>
<td><code>onMounted</code></td>
</tr>
<tr>
<td><code>beforeUpdate</code></td>
<td><code>onBeforeUpdate</code></td>
</tr>
<tr>
<td><code>updated</code></td>
<td><code>onUpdated</code></td>
</tr>
<tr>
<td><code>beforeUnmount</code></td>
<td><code>onBeforeUnmount</code></td>
</tr>
<tr>
<td><code>unmounted</code></td>
<td><code>onUnmounted</code></td>
</tr>
<tr>
<td><code>errorCaptured</code></td>
<td><code>onErrorCaptured</code></td>
</tr>
<tr>
<td><code>renderTracked</code></td>
<td><code>onRenderTracked</code></td>
</tr>
<tr>
<td><code>renderTriggered</code></td>
<td><code>onRenderTriggered</code></td>
</tr>
<tr>
<td><code>activated</code></td>
<td><code>onActivated</code></td>
</tr>
<tr>
<td><code>deactivated</code></td>
<td><code>onDeactivated</code></td>
</tr>
</tbody></table>
<h3 id="基本代码"><a href="#基本代码" class="headerlink" title="基本代码"></a>基本代码</h3><h4 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> HelloWorld <span class="keyword">from</span> <span class="string">&quot;./components/HelloWorld.vue&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局组件</span></span><br><span class="line">app.component(<span class="string">&quot;HelloWorld&quot;</span>, HelloWorld);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局属性</span></span><br><span class="line"><span class="comment">// vue2.0 Vue.prototype.$http</span></span><br><span class="line">app.config.globalProperties.$http = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;http ==&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">app.mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--- App.vue  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- v-model=&quot;xxx&quot;  &lt;==&gt; v-model:modelValue=&quot;xxx&quot; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- :value=&quot;xxx&quot; @input=&quot;xxx = $event&quot; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- value $emit(&#x27;input&#x27;, &#x27;传递&#x27;) --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">      visible.sync=&quot;visible&quot; </span></span><br><span class="line"><span class="comment">      ==&gt;</span></span><br><span class="line"><span class="comment">      :visible=&quot;visible&quot; @update:visible=&quot;visible = $event&quot;</span></span><br><span class="line"><span class="comment">      --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- vue3 把 .sync 去掉，==&gt; </span></span><br><span class="line"><span class="comment">        v-model:visible=&quot;visible&quot;</span></span><br><span class="line"><span class="comment">       --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--     </span></span><br><span class="line"><span class="comment">    &lt;div :ref=&quot;setDivRef&quot;&gt;</span></span><br><span class="line"><span class="comment">      count: &#123;&#123; count &#125;&#125;</span></span><br><span class="line"><span class="comment">      &lt;p&gt;</span></span><br><span class="line"><span class="comment">        &lt;button @click=&quot;add&quot;&gt;+&lt;/button&gt;</span></span><br><span class="line"><span class="comment">        &lt;button @click=&quot;reduce&quot;&gt;-&lt;/button&gt;</span></span><br><span class="line"><span class="comment">      &lt;/p&gt;</span></span><br><span class="line"><span class="comment">    &lt;/div&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &lt;ul&gt;</span></span><br><span class="line"><span class="comment">      &lt;li&gt;姓名：&#123;&#123; user.name &#125;&#125;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">      &lt;li&gt;年龄：&#123;&#123; user.age &#125;&#125;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">    &lt;/ul&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- v-model=&quot;num&quot; --&gt;</span></span><br><span class="line">    &lt;Child</span><br><span class="line">      title=&quot;父组件传递的title&quot;</span><br><span class="line">      :modelValue=&quot;num&quot;</span><br><span class="line">      @update:modelValue=&quot;num = $event&quot;</span><br><span class="line">      @change=&quot;onChildChange&quot;</span><br><span class="line">      v-model:visible=&quot;visible&quot;</span><br><span class="line">      ref=&quot;childRef&quot;</span><br><span class="line">    &gt;<span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;HelloWorld&gt;&lt;/HelloWorld&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">&quot;./Child-setup.vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; reactive, ref &#125; <span class="keyword">from</span> <span class="string">&quot;@vue/reactivity&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; onMounted, provide &#125; <span class="keyword">from</span> <span class="string">&quot;@vue/runtime-core&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    components: &#123; Child &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">// data() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   return &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     msg: &#x27;哈哈哈&#x27;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   &#125;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> msg = ref(<span class="string">&quot;哈哈哈2&quot;</span>); <span class="comment">// =&gt; reactive(&#123;value: 哈哈哈2 &#125;)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> obj = ref(&#123; <span class="attr">x</span>: <span class="string">&quot;xx&quot;</span> &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot; obj.value: &quot;</span>, obj.value);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> user = reactive(&#123; <span class="attr">name</span>: <span class="string">&quot;张三&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> count = ref(<span class="number">0</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      provide(<span class="string">&quot;count&quot;</span>, count);</span></span><br><span class="line"><span class="javascript">      provide(<span class="string">&quot;http&quot;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;$http &gt;&gt;&gt;&quot;</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> add = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line">        count.value++;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> reduce = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line">        count.value--;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> num = ref(<span class="number">1</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> visible = ref(<span class="literal">false</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">// this.$refs.childRef x</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// refs</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// 1. 用字符串</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> childRef = ref(<span class="literal">null</span>);</span></span><br><span class="line"><span class="javascript">      onMounted(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot; childRef.value: &quot;</span>, childRef.value);</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> divRef;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> setDivRef = <span class="function">(<span class="params">el</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot; el: &quot;</span>, el);</span></span><br><span class="line">        divRef = el;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line">        msg,</span><br><span class="line">        user,</span><br><span class="line">        count,</span><br><span class="line">        add,</span><br><span class="line">        reduce,</span><br><span class="line">        num,</span><br><span class="line">        visible,</span><br><span class="line">        childRef,</span><br><span class="line">        setDivRef,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">onChildChange</span>(<span class="params"></span>)</span> &#123;&#125;,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-id">#app</span> &#123;</span></span><br><span class="line">    font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">    -webkit-font-smoothing: antialiased;</span><br><span class="line">    -moz-osx-font-smoothing: grayscale;</span><br><span class="line">    text-align: center;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span></span><br><span class="line">    margin-top: 60px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="Child-composition-（组合式-api）"><a href="#Child-composition-（组合式-api）" class="headerlink" title="Child-composition （组合式 api）"></a>Child-composition （组合式 api）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">  1. 多个片段， 多个根标签 </span></span><br><span class="line"><span class="comment">  2. v-for v-if 优先级变化 v3 v-if &gt; v-for</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;triggerEvent&quot;</span>&gt;</span>触发事件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>num2：&#123;&#123; num2 &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>count：&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    modelValue：&#123;&#123; modelValue &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">    visible：&#123;&#123; visible &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateVisible&quot;</span>&gt;</span>更新visible<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--   --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">teleport</span> <span class="attr">to</span>=<span class="string">&quot;body&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;visible&quot;</span>&gt;</span>对话框<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">teleport</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;</span></span><br><span class="line">    computed,</span><br><span class="line">    inject,</span><br><span class="line">    onActivated,</span><br><span class="line">    onBeforeMount,</span><br><span class="line">    onBeforeUnmount,</span><br><span class="line">    onBeforeUpdate,</span><br><span class="line">    onDeactivated,</span><br><span class="line">    onMounted,</span><br><span class="line">    onUnmounted,</span><br><span class="line">    onUpdated,</span><br><span class="line">    watch,</span><br><span class="line">    watchEffect,</span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">from</span> <span class="string">&quot;@vue/runtime-core&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    props: &#123;</span><br><span class="line"><span class="javascript">      title: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">      modelValue: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">      visible: <span class="built_in">Boolean</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">// computed: &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   num2() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     return this.modelValue * 2</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   &#125;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">    emits: [<span class="string">&quot;change&quot;</span>, <span class="string">&quot;update:modelValue&quot;</span>, <span class="string">&quot;update:visible&quot;</span>],</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 发生在 beforeCreate</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// attrs 除了 class style,props 之外的属性</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">// watch: &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   title: &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     deep: true, // 深度简单</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//   &#125;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 组合式API(composition),  选项式API(options)</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params">props, &#123; emit, attrs, slots &#125;</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot; attrs: &quot;</span>, attrs);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot; props: &quot;</span>, props);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">// computed</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> num2 = computed(<span class="function">() =&gt;</span> props.modelValue * <span class="number">2</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// const num2 = computed(&#123;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   get: () =&gt; props.modelValue * 2,</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   set: (val) =&gt; &#123;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     ssss</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   &#125;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// &#125;)</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">//</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> count = inject(<span class="string">&quot;count&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot; count: &quot;</span>, count);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">// watch</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// this.$watch()</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> unwatch = watch(</span></span><br><span class="line">        () =&gt; props.modelValue,</span><br><span class="line">        (newVal, oldValue) =&gt; &#123;</span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">&quot; newVal: &quot;</span>, newVal);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (newVal &gt;= <span class="number">10</span>) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 取消监听</span></span></span><br><span class="line">            unwatch();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">          deep: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">          <span class="comment">// immediate: true</span></span></span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">// 自动收集依赖，所以会初始化的时候就执行一次</span></span></span><br><span class="line"><span class="javascript">      watchEffect(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot; props.modelValue: &quot;</span>, props.modelValue);</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">// hooks</span></span></span><br><span class="line"><span class="javascript">      onBeforeMount(<span class="function">() =&gt;</span> &#123;&#125;);</span></span><br><span class="line"><span class="javascript">      onMounted(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;哈哈哈&quot;</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line"><span class="javascript">      onBeforeUpdate(<span class="function">() =&gt;</span> &#123;&#125;);</span></span><br><span class="line"><span class="javascript">      onUpdated(<span class="function">() =&gt;</span> &#123;&#125;);</span></span><br><span class="line"><span class="javascript">      onBeforeUnmount(<span class="function">() =&gt;</span> &#123;&#125;);</span></span><br><span class="line"><span class="javascript">      onUnmounted(<span class="function">() =&gt;</span> &#123;&#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">// keep-alive</span></span></span><br><span class="line"><span class="javascript">      onActivated(<span class="function">() =&gt;</span> &#123;&#125;);</span></span><br><span class="line"><span class="javascript">      onDeactivated(<span class="function">() =&gt;</span> &#123;&#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">// methods</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> triggerEvent = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        emit(<span class="string">&quot;change&quot;</span>, <span class="string">&quot;传递的数据&quot;</span>);</span></span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> add = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        emit(<span class="string">&quot;update:modelValue&quot;</span>, props.modelValue + <span class="number">1</span>);</span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> updateVisible = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot; props.visible: &quot;</span>, props.visible);</span></span><br><span class="line"><span class="javascript">        emit(<span class="string">&quot;update:visible&quot;</span>, !props.visible);</span></span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line">        triggerEvent,</span><br><span class="line">        add,</span><br><span class="line">        updateVisible,</span><br><span class="line">        num2,</span><br><span class="line">        count,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">// beforeCreate() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   console.log(&#x27;beforeCreate&#x27;)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// created() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   console.log(&#x27;created&#x27;)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">// beforeDestroy beforeUnmount</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// destroyed unmounted</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="Child-setup"><a href="#Child-setup" class="headerlink" title="Child-setup"></a>Child-setup</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>title: &#123;&#123; title &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>num2: &#123;&#123; num2 &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>count: &#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      modelValue：&#123;&#123; modelValue &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;triggerEvent&quot;</span>&gt;</span>触发事件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- &lt;input type=&quot;text&quot; v-model=&quot;inputValue&quot;&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;inputValue&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;onInputUpdate&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- volar --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Foo</span>&gt;</span><span class="tag">&lt;/<span class="name">Foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--- vue 3.2.x --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;</span></span><br><span class="line">    computed,</span><br><span class="line">    getCurrentInstance,</span><br><span class="line">    inject,</span><br><span class="line">    ref,</span><br><span class="line">    useAttrs,</span><br><span class="line">    useSlots,</span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">from</span> <span class="string">&quot;@vue/runtime-core&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Foo <span class="keyword">from</span> <span class="string">&quot;./foo.vue&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// props</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> props = defineProps(&#123;</span></span><br><span class="line"><span class="javascript">    title: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">    modelValue: <span class="built_in">Number</span>,</span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="javascript">  <span class="comment">// computed</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> num2 = computed(<span class="function">() =&gt;</span> props.modelValue * <span class="number">2</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> count = inject(<span class="string">&quot;count&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// emit</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> emit = defineEmits([<span class="string">&quot;change&quot;</span>, <span class="string">&quot;update:modelValue&quot;</span>, <span class="string">&quot;update:visible&quot;</span>]);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> triggerEvent = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    emit(<span class="string">&quot;change&quot;</span>, <span class="string">&quot;传递的数据&quot;</span>);</span></span><br><span class="line">  &#125;;</span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> add = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    emit(<span class="string">&quot;update:modelValue&quot;</span>, props.modelValue + <span class="number">1</span>);</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// 向父组件暴露自己的属性和方法</span></span></span><br><span class="line">  defineExpose(&#123;</span><br><span class="line">    num2,</span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">test</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;888&quot;</span>);</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> attrs = useAttrs();</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">&quot; attrs: &quot;</span>, attrs);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> solts = useSlots();</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> ctx = getCurrentInstance();</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> http = ctx.appContext.config.globalProperties.$http;</span></span><br><span class="line"><span class="javascript">  http(<span class="string">&quot;xxx&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> $http = inject(<span class="string">&quot;http&quot;</span>);</span></span><br><span class="line">  $http();</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// $ref: ref(false)</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> inputValue = ref(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> onInputUpdate = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">&quot; event: &quot;</span>, event);</span></span><br><span class="line">    inputValue.value = event.target.value;</span><br><span class="line">  &#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="项目相关"><a href="#项目相关" class="headerlink" title="项目相关"></a>项目相关</h2><h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><h4 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h4><p><a target="_blank" rel="noopener" href="https://shfshanyue.github.io/cheat-sheets/git">https://shfshanyue.github.io/cheat-sheets/git</a></p>
<h4 id="git-pull-和-git-featch-的区别"><a href="#git-pull-和-git-featch-的区别" class="headerlink" title="git pull 和 git featch 的区别"></a>git pull 和 git featch 的区别</h4><h4 id="怎么样进行合并，比如把-mater-分支合并到-dev-分支"><a href="#怎么样进行合并，比如把-mater-分支合并到-dev-分支" class="headerlink" title="怎么样进行合并，比如把 mater 分支合并到 dev 分支"></a>怎么样进行合并，比如把 mater 分支合并到 dev 分支</h4><p>git fetch是<strong>从远程获取最新版本到本地，但不会自动merge</strong>。<br>       而git pull则是<strong>会获取所有远程索引并合并到本地分支中</strong>来</p>
<h3 id="Webpack-一些核心概念："><a href="#Webpack-一些核心概念：" class="headerlink" title="Webpack 一些核心概念："></a>Webpack 一些核心概念：</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7023242274876162084">【万字】透过分析 webpack 面试题，构建 webpack5.x 知识体系</a></p>
</blockquote>
<ul>
<li><p><code>Entry</code>：入口，指示 Webpack 应该使用哪个模块，来作为构建其内部 依赖图(dependency graph) 的开始。</p>
</li>
<li><p><code>Output</code>：输出结果，告诉 Webpack 在哪里输出它所创建的 bundle，以及如何命名这些文件。</p>
</li>
<li><p><code>Module</code>：模块，在 Webpack 里一切皆模块，一个模块对应着一个文件。Webpack 会从配置的 Entry 开始递归找出所有依赖的模块。</p>
</li>
<li><p><code>Chunk</code>：代码块，一个 Chunk 由多个模块组合而成，用于代码合并与分割。</p>
</li>
<li><p><code>Loader</code>：模块代码转换器，让 webpack 能够去处理除了 JS、JSON 之外的其他类型的文件，并将它们转换为有效 模块，以供应用程序使用，以及被添加到依赖图中。</p>
</li>
<li><p><code>Plugin</code>：扩展插件。在 webpack 运行的生命周期中会广播出许多事件，plugin 可以监听这些事件，在合适的时机通过 webpack 提供的 api 改变输出结果。常见的有：打包优化，资源管理，注入环境变量。</p>
</li>
<li><p><code>Mode</code>：模式，告知 webpack 使用相应模式的内置优化</p>
<hr>
</li>
</ul>
<ul>
<li><code>hash</code>: 每次构建的生成唯一的一个 hash，且所有的文件 hash 串是一样的</li>
</ul>
<ul>
<li><p><code>chunkhash</code>: 每个<strong>入口文件</strong>都是一个 chunk，每个 chunk 是由入口文件与其依赖所构成，<strong>异步加载</strong>的文件也被视为是一个 chunk, <strong>chunkhash</strong>是由每次编译模块，根据模块及其依赖模块构成 chunk 生成对应的 chunkhash, 这也就表明了<strong>每个 chunk 的 chunkhash 值</strong>都不一样， 也就是说每个 chunk 都是独立开来的，互不影响，每个 chunk 的更新不会影响其他 chunk 的编译构建</p>
</li>
<li><p><code>contenthash</code>：由文件内容决定，文件变化 contenthash 才会变化，一般配合 <code>mini-css-extract-plugin</code>插件提取出 css</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">&quot;mini-css-extract-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> HTMLWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="comment">// 把 style-loader替换掉，不要使用 style-loader了</span></span><br><span class="line">            loader: MiniCssExtractPlugin.loader,</span><br><span class="line">            options: &#123;</span><br><span class="line">              outputPath: <span class="string">&quot;css/&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename: <span class="string">&quot;css/[name].[contenthash].css&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="提升-webpack-打包速度"><a href="#提升-webpack-打包速度" class="headerlink" title="提升 webpack 打包速度"></a>提升 webpack 打包速度</h3></li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7046616302521155614">一套骚操作下来，webpack 项目打包速度飞升 🚀、体积骤减 ↓</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904071736852487">玩转 webpack，使你的打包速度提升 90%</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904093463347208">带你深度解锁 Webpack 系列(优化篇)</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6996816316875161637">学习 Webpack5 之路（优化篇）- 近 7k 字</a></p>
</blockquote>
<ul>
<li><p>速度分析，可以使用 <code>speed-measure-webpack-plugin</code></p>
</li>
<li><p>提升基础环境，nodejs 版本，webpack 版本</p>
</li>
<li><p><code>CDN</code> 分包 <code>html-webpack-externals-plugin</code>, <code>externals</code></p>
</li>
<li><p>多进程、多实例构建 <code>thread-loader</code> <code>happypack(不再维护)</code> </p>
</li>
<li><p>多进程并行构建打包<code>uglifyjs-webpack-plugin</code> <code>terser-webpack-plugin</code></p>
</li>
<li><p>缓存: webpack5 内置了<code>cache</code>模块 、<code>babel-loader</code> 的 <code>cacheDirectory</code> 标志、<code>cache-loader</code>, <code>HardSourceWebpackPlugin</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// webpack5内置缓存</span></span><br><span class="line">  cache: &#123;</span><br><span class="line">    type: <span class="string">&quot;filesystem&quot;</span>, <span class="comment">// 使用文件缓存</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li><p>构建缩小范围 <code>include</code>,<code>exclude</code></p>
</li>
<li><p>加快文件查找速度<code>resolve.alias</code>,<code>resolve.extensions</code>, <code>module.noParse</code></p>
</li>
<li><p><code>DllPlugin</code></p>
</li>
<li><p><code>babel </code>配置的优化</p>
</li>
</ul>
<h3 id="webpack-常用-loader，plugin"><a href="#webpack-常用-loader，plugin" class="headerlink" title="webpack 常用 loader，plugin"></a>webpack 常用 loader，plugin</h3><p><strong>loader</strong></p>
<p>“<em>Babel是一个广泛使用的转码器,可以将ES6代码转为ES5代码,从而在现有环境执行</em></p>
<ul>
<li><code>babel-loader</code> 将 <code>es6</code> 转换成 <code>es5</code>  <strong>（为了兼容 ES5）</strong>, <code>ts-loader</code>、<code>vue-loader</code></li>
<li><code>eslint-loader</code> 配置 <code>enforce: &#39;pre&#39;</code> 这个 loader 最先执行</li>
<li><code>css-loader</code>、<code>style-loader</code>、<code>postcss-loader</code> (兼容性)、<code>less-loader</code>、<code>sass-loader</code></li>
<li><code>file-loader</code> 把文件转换成路径引入, <code>url-loader</code>（比<code>file-loader</code>多了小于多少的能转换成 base64）</li>
<li><code>image-loader</code></li>
<li><code>svg-sprite-loader</code> 处理 svg</li>
<li><code>thread-loader</code> 开启多进程 ，会在一个单独的 worker 池（worker pool）中运行</li>
<li><code>cache-loader</code> 缓存一些性能开销比较大的 loader 的处理结果</li>
</ul>
<p><strong>plugin</strong></p>
<ul>
<li><p><code>html-webpack-plugin</code> 将生成的 css，js 自动注入到 html 文件中，能对 html 文件压缩</p>
</li>
<li><p><code>copy-webpack-plugin</code> 拷贝某个目录</p>
</li>
<li><p><code>clean-webpack-plugin</code> 清空某个目录</p>
</li>
<li><p><code>webpack.HotModuleReplacementPlugin</code> 热重载</p>
</li>
<li><p><code>webpack.DefinePlugin</code> 定义全局变量</p>
</li>
<li><p><code>mini-css-extract-plugin</code> 提取 CSS 到独立 bundle 文件。 <code>extract-text-webpack-plugin</code></p>
</li>
<li><p><code>optimize-css-assets-webpack-plugin</code> 压缩 css webpack5 推荐<code>css-minimizer-webpack-plugin</code></p>
</li>
<li><p><code>purgecss-webpack-plugin </code> 会单独提取 CSS 并清除用不到的 CSS（会有问题把有用的 css 删除）</p>
</li>
<li><p><code>uglifyjs-webpack-plugin</code> ❌（不推荐） 压缩 js、多进程 <code>parallel: true</code></p>
</li>
<li><p><code>terser-webpack-plugin</code> 压缩 js， 可开启多进程压缩、推荐使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    minimize: <span class="literal">true</span>,</span><br><span class="line">    minimizer: [</span><br><span class="line">      <span class="keyword">new</span> TerserPlugin(&#123;</span><br><span class="line">        parallel: <span class="literal">true</span>, <span class="comment">// 多进程压缩</span></span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li><p><code>Happypack</code> ❌（不再维护） 可开启多进程</p>
</li>
<li><p><code>HardSourceWebpackPlugin</code> 缓存</p>
</li>
<li><p><code>speed-measure-webpack-plugin</code> 打包构建速度分析、查看编译速度</p>
</li>
<li><p><code>webpack-bundle-analyzer </code>打包体积分析</p>
</li>
<li><p><code>compression-webpack-plugin</code> gzip 压缩</p>
</li>
</ul>
<h3 id="前端性能优化"><a href="#前端性能优化" class="headerlink" title="前端性能优化"></a>前端性能优化</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6892994632968306702">前端性能优化 24 条建议（2020）</a></p>
</blockquote>
<ol>
<li>减少 http 请求</li>
<li>使用 http2</li>
<li>静态资源使用 CDN</li>
<li>将 CSS 放在文件头部，JavaScript 文件放在底部</li>
<li>使用字体图标 iconfont 代替图片图标</li>
<li>设置缓存，强缓存，协商缓存</li>
<li>压缩文件，css(<code>MiniCssExtractPlugin</code>),js(<code>UglifyPlugin</code>),html(<code>html-webpack-plugin</code>)文件压缩，清除无用的代码，<code>tree-shaking</code>（需要 es6 的 import 才支持），gzip 压缩(<code>compression-webpack-plugin</code>)</li>
<li>splitChunks 分包配置，optimization.splitChunks 是基于 <a href="https://link.juejin.cn/?target=https://webpack.docschina.org/plugins/split-chunks-plugin/">SplitChunksPlugin</a> 插件实现的</li>
<li>图片优化、图片压缩</li>
<li>webpack 按需加载代码，<code>hash</code>，<code>contenthash</code></li>
<li>减少重排重绘</li>
<li>降低 css 选择器的复杂性</li>
</ol>
<h3 id="babel"><a href="#babel" class="headerlink" title="babel"></a>babel</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904008679686152">不容错过的 Babel7 知识</a></p>
</blockquote>
<p>核心库 <code>@babel/core</code></p>
<p><code>Polyfill</code> 垫片</p>
<p>CLI 命令行工具 <code>@babel/cli</code></p>
<p>插件</p>
<p>预设：包含了很多插件的一个组合，<code>@babel/preset-env</code> <code>@babel/preset-react</code> <code>@babel/preset-typescript</code></p>
<p><strong>polyfill</strong></p>
<p>Babel 默认只转换新的 JavaScript 句法（syntax），而不转换新的 API，比如<code>Iterator</code>、<code>Generator</code>、<code>Set</code>、<code>Map</code>、<code>Proxy</code>、<code>Reflect</code>、<code>Symbol</code>、<code>Promise</code>等全局对象，以及一些定义在全局对象上的方法（比如<code>Object.assign</code>）都不会转码。</p>
<p>举例来说，ES6 在<code>Array</code>对象上新增了<code>Array.from</code>方法。Babel 就不会转码这个方法。如果想让这个方法运行，可以使用<code>core-js</code>和<code>regenerator-runtime</code>(后者提供 generator 函数的转码)，为当前环境提供一个垫片。</p>
<p><strong><code>@babel/plugin-transform-runtime</code></strong></p>
<p><code>Babel</code> 会使用很小的辅助函数来实现类似 <code>_createClass</code> 等公共方法。默认情况下，它将被添加(<code>inject</code>)到需要它的每个文件中。</p>
<p>如果你有 10 个文件中都使用了这个 <code>class</code>，是不是意味着 <code>_classCallCheck</code>、<code>_defineProperties</code>、<code>_createClass</code> 这些方法被 <code>inject</code> 了 10 次。这显然会导致包体积增大，最关键的是，我们并不需要它 <code>inject</code> 多次。</p>
<p><code>@babel/plugin-transform-runtime</code> 是一个可以重复使用 <code>Babel</code> 注入的帮助程序，以节省代码大小的插件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @babel/plugin-transform-runtime</span><br><span class="line">npm install --save @babel/runtime</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//.babelrc</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;presets&quot;</span>: [</span><br><span class="line">        [</span><br><span class="line">            <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&quot;useBuiltIns&quot;</span>: <span class="string">&quot;usage&quot;</span>, <span class="comment">// 配置 polyfill 动态导入</span></span><br><span class="line">                <span class="string">&quot;corejs&quot;</span>: <span class="number">3</span> <span class="comment">// core-js@3</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;plugins&quot;</span>: [</span><br><span class="line">        [</span><br><span class="line">            <span class="string">&quot;@babel/plugin-transform-runtime&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h2><h3 id="Cookie-和-Session-的区别"><a href="#Cookie-和-Session-的区别" class="headerlink" title="Cookie 和 Session 的区别"></a>Cookie 和 Session 的区别</h3><p>1、cookie数据存放在客户的浏览器上，session数据放在服务器上。</p>
<p>2、cookie不是很安全，别人可以分析存放在本地的cookie并进行cookie欺骗，考虑到安全应当使用session。</p>
<p>3、session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能，考虑到减轻服务器性能方面，应当使用cookie。</p>
<p>4、单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。</p>
<p>5、可以考虑将登陆信息等重要信息存放为session，其他信息如果需要保留，可以放在cookie中。</p>
<h3 id="localStorage和cookie的区别"><a href="#localStorage和cookie的区别" class="headerlink" title="localStorage和cookie的区别"></a>localStorage和cookie的区别</h3><p>cookie 只能存储文本、单条存储有大小限制4KB左右</p>
<p><strong>localStorage</strong>：主要是用来作为本地存储来使用的，解决了cookie存储空间不足的问题(cookie中每条cookie的存储空间为4k)，<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=localStorage&spm=1001.2101.3001.7020">localStorage</a>中一般浏览器支持的是5M大小，这个在不同的浏览器中localStorage会有所不同。</p>
<h3 id="跨域、同源策略"><a href="#跨域、同源策略" class="headerlink" title="跨域、同源策略"></a>跨域、同源策略</h3><p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43745075/article/details/115482227">https://blog.csdn.net/weixin_43745075/article/details/115482227</a></p>
<blockquote>
<p>同源策略是一种约定，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到XSS、CSRF等攻击。所谓同源是指”协议+域名+端口”三者相同，即便两个不同的域名指向同一个ip地址，也非同源。</p>
</blockquote>
<p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/20210407114820178.png" alt="img"></p>
<p><strong>同源策略限制内容有：</strong></p>
<ul>
<li>Cookie、LocalStorage、IndexedDB 等存储性内容</li>
<li>DOM 节点</li>
<li>AJAX 请求发送后，结果被浏览器拦截了</li>
</ul>
<p>但是有三个标签是允许跨域加载资源：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;XXX&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;XXX&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;XXX&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="跨域解决方案"><a href="#跨域解决方案" class="headerlink" title="跨域解决方案"></a>跨域解决方案</h3><ol>
<li><p><code>JSONP</code>：通 过 动 态 创 建 <code>script</code> ， 再 请 求 一 个 带 参 网 址 实 现 跨 域 通 信 。</p>
</li>
<li><p>开发环境：前端做代理</p>
</li>
<li><p><code>nginx</code>反向代理</p>
</li>
<li><p><code>CORS</code>: 服务端设置 <code>Access-Control-Allow-Origin</code> 即可，前端无须设置，若要带 <code>cookie</code> 请求，前后端都需要设置。</p>
</li>
<li><p><code>websocket</code></p>
<p>—下面的跨域通信、注意只是页面之间的跨域，不是前后端服务跨域，别人问前后端跨域就不要回答下面的了</p>
</li>
<li><p><code>postMessage</code></p>
</li>
<li><p>window.name + iframe</p>
</li>
<li><p>document.domain + iframe</p>
</li>
<li><p>location.hash + iframe</p>
</li>
</ol>
<h3 id="垃圾回收机制"><a href="#垃圾回收机制" class="headerlink" title="垃圾回收机制"></a>垃圾回收机制</h3><ul>
<li>标记清除： 进入环境、离开环境</li>
<li>引用计数（不常用）：值被引用的次数， 当引用次数为零时会被清除（缺陷，相互引用的会有问题）</li>
</ul>
<h3 id="缓存机制"><a href="#缓存机制" class="headerlink" title="缓存机制"></a>缓存机制</h3><h4 id="强缓存"><a href="#强缓存" class="headerlink" title="强缓存"></a>强缓存</h4><blockquote>
<p>如果命中强缓存–就不用像服务器去请求</p>
</blockquote>
<ol>
<li><p><code>Expires</code> 设置时间，过期时间 <code>expires: Tue, 15 Oct 2019 13:30:54 GMT</code></p>
<p>通过本地时间和 expires 比较是否过期，如果过期了就去服务器请求，没有过期的话就直接使用本地的</p>
<p>缺点：本地时间可能会更改， 导致缓存出错</p>
</li>
<li><p><code>Cache-Control</code> HTTP1.1 中新增的</p>
<ul>
<li><p>max-age 最大缓存多少毫秒，列如 <code>Cache-Control: max-age=2592000</code></p>
</li>
<li><p>no-store (每次都要请求，就连协商缓存都不走)表示不进行缓存，缓存中不得存储任何关于客户端请求和服务端响应的内容。每次 由客户端发起的请求都会下载完整的响应内容。<code>Cache-Control: no-store</code></p>
</li>
<li><p>no-cache（默认值）表示不缓存过期的资源，缓存会向源服务器进行有效期确认后处理资源，也许称 为 do-notserve-from-cache-without-revalidation 更合适。浏览器默认开启的是 no-cache，其 实这里也可理解为开启协商缓存</p>
</li>
<li><p>public 和 private</p>
<p>public 与 private 是针对资源是否能够被代理服务缓存而存在的一组对立概念</p>
<p>当我们为资源设置了 <strong>pubile</strong>，那么它既<strong>可以被浏览器缓存也可被代理服务器缓存</strong>。设置为</p>
<p>private 的时候，则该资源<strong>只能被浏览器缓存</strong>，其中默认值是 private。</p>
</li>
<li><p>max-age 和 s-maxage</p>
<p>s-maxage 只适用于供多用户使用的公共服务器上(如 CND cache)，并只对 public 缓存有效</p>
</li>
</ul>
</li>
</ol>
<h4 id="协商缓存"><a href="#协商缓存" class="headerlink" title="协商缓存"></a>协商缓存</h4><blockquote>
<p>需要向服务器请求，如果没有过期，服务器会返回 304，</p>
</blockquote>
<ol>
<li><strong>ETag 和 If-None-Match 唯一标识</strong></li>
</ol>
<ul>
<li><p>服务器响应 ETag 值，浏览器携带的是 If-None-Match（携带的是上一次响应的 ETag），服务拿到这 If-None-Match 值后判断过期–&gt; 没有过期 304，并且返回 ETag</p>
<hr>
<p>二者的值都是服务器为每份资源分配的唯一标识字符串。</p>
<p>• 浏览器请求资源，服务器会在响应报文头中加入 ETag 字段。资源更新的时候，服务端的</p>
<p>ETag 值也随之更新</p>
<p>• 浏览器再次请求资源，会在请求报文头中添加 If-None-Match 字段，它的值就是上次响应</p>
<p>报文中的 ETag 值，服务器会对比 ETag 和 If-None-Match 的值是否一致。如果不一致，服务</p>
<p>器则接受请求，返回更新后的资源，状态码返回 200；如果一致，表明资源未更新，则返回</p>
<p>状态码 304，可继续使用本地缓存，值得注意的是此时响应头会加上 ETag 字段，即使它没</p>
<p>有变化</p>
<hr>
</li>
<li><p><strong>Last-Modified 和 If-Modified-Since 时间戳</strong><br>缺点： 某些文件修改非常频繁，比如在秒以下的时间内进行修改，(比方说 1s 内修改了 N 次)，</p>
<p>If-Modified-Since 可查到的是秒级，这种修改无法判断</p>
</li>
</ul>
<h3 id="预编译"><a href="#预编译" class="headerlink" title="预编译"></a>预编译</h3><p>四部曲</p>
<ol>
<li>创建<code>AO</code>对象</li>
<li>找形参和变量声明，将变量和形参名作为<code>AO</code>的属性名，值为<code>undefined</code></li>
<li>将实参值和形参值相统一</li>
<li>在函数体里面找到函数声明，值赋予函数体</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 预编译</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">test <span class="comment">/* 形参 */</span></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot; test: &quot;</span>, test); <span class="comment">// function()&#123;&#125;</span></span><br><span class="line">  <span class="keyword">var</span> test = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">var</span> str = <span class="string">&quot;bs&quot;</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot; test: &quot;</span>, test); <span class="comment">// 2</span></span><br><span class="line">  <span class="comment">// 函数声明</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  <span class="comment">// 函数表达式</span></span><br><span class="line">  str = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot; test: &quot;</span>, test); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 预编译 四部曲</span></span><br><span class="line"><span class="comment">// 1. 创建AO对象</span></span><br><span class="line"><span class="comment">// 2. 找形参和变量声明，将变量和形参名作为AO的属性名，值为undefined</span></span><br><span class="line"><span class="comment">// 3. 将实参值和形参值相统一</span></span><br><span class="line"><span class="comment">// 4. 在函数体里面找到函数声明，值赋予函数体</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// AO &#123;</span></span><br><span class="line"><span class="comment">//   test: undefined</span></span><br><span class="line"><span class="comment">//   str: undefined</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// AO &#123;</span></span><br><span class="line"><span class="comment">//   test: 1</span></span><br><span class="line"><span class="comment">//   str: undefined</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// AO &#123;</span></span><br><span class="line"><span class="comment">//   test: 1</span></span><br><span class="line"><span class="comment">//   str: function() &#123;&#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">foo(<span class="number">1</span> <span class="comment">/*实参*/</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">  <span class="keyword">var</span> a = <span class="string">&quot;222&quot;</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot; a, b, c: &quot;</span>, a, b, c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// AO &#123;</span></span><br><span class="line"><span class="comment">//   a : &#x27;222&#x27;,</span></span><br><span class="line"><span class="comment">//   b : function() &#123;&#125;,</span></span><br><span class="line"><span class="comment">//   c : 3</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line">foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">22</span>;</span><br><span class="line"><span class="comment">// let a = 22</span></span><br><span class="line"><span class="comment">// window.a ==&gt; 22</span></span><br></pre></td></tr></table></figure>
<p>全局</p>
<ol>
<li>创建 GO 对象==window</li>
<li>变量声明，将变量作为 GO 的属性名，值为<code>undefined</code></li>
<li>找到函数声明，值赋予函数体</li>
</ol>
<h3 id="event-loop-事件循环"><a href="#event-loop-事件循环" class="headerlink" title="event-loop(事件循环)"></a>event-loop(事件循环)</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903764202094606">一次弄懂 Event Loop（彻底解决此类面试问题）</a></p>
</blockquote>
<p><code>JS</code>是单线程的，为了防止一个函数执行时间过长阻塞后面的代码，所以会先将同步代码压入执行栈中，依次执行，将异步代码推入异步队列，异步队列又分为宏任务队列和微任务队列，因为宏任务队列的执行时间较长，所以微任务队列要优先于宏任务队列。微任务队列的代表就是，<code>Promise.then</code>，<code>MutationObserver</code>，宏任务的话就是<code>setImmediate setTimeout setInterval</code></p>
<p><strong>MacroTask（宏任务）*</strong></p>
<ul>
<li><code>script</code>全部代码、<code>setTimeout</code>、<code>setInterval</code>、<code>setImmediate</code>（浏览器暂时不支持，只有 IE10 支持，具体可见<a href="https://link.juejin.cn/?target=https://developer.mozilla.org/zh-CN/docs/Web/API/Window/setImmediate"><code>MDN</code></a>）、<code>I/O</code>、<code>UI Rendering</code>。</li>
</ul>
<p><strong>MicroTask（微任务）</strong></p>
<ul>
<li><code>Process.nextTick（Node独有）</code>、<code>Promise.then</code>、<code>Object.observe(废弃)</code>、<code>MutationObserver</code></li>
</ul>
<h4 id="浏览器中"><a href="#浏览器中" class="headerlink" title="浏览器中"></a>浏览器中</h4><blockquote>
<p>执行完一个宏任务，会执行所有的微任务</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;script start&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;setTimeout&quot;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;promise1&quot;</span>);</span><br><span class="line">  resolve();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;promise2&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;script end&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>执行结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">script start</span><br><span class="line">promise1</span><br><span class="line">script end</span><br><span class="line">promise2</span><br><span class="line">setTimeout</span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/608a4edf58d141c88e75262938c3ac66.gif" alt="在这里插入图片描述"></p>
<h4 id="nodejs-中"><a href="#nodejs-中" class="headerlink" title="nodejs 中"></a>nodejs 中</h4><blockquote>
<p>在 11 之前的版本，会在每个阶段之后执行所有的微任务</p>
<p>在 11 版本及之后，会每执行完一个宏任务，就会清空所用的微任务（和浏览器保存一致）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;new Promise 1&quot;</span>);</span><br><span class="line">  resolve();</span><br><span class="line">&#125;).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;new Promise then&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;timer1&quot;</span>);</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;timer1 new Promise&quot;</span>);</span><br><span class="line">    resolve();</span><br><span class="line">  &#125;).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;timer1 new Promise then&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;timer1 Promise then&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;timer2&quot;</span>);</span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;timer2 Promise then&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;start end&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>在 node11 版本之前（不包含 11）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">new Promise 1</span><br><span class="line">start end</span><br><span class="line">new Promise then</span><br><span class="line">timer1</span><br><span class="line">timer1 new Promise</span><br><span class="line">timer2</span><br><span class="line">timer1 new Promise then</span><br><span class="line">timer1 Promise then</span><br><span class="line">timer2 Promise then</span><br></pre></td></tr></table></figure>
<p>在 node11 版本及之后</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">new Promise 1</span><br><span class="line">start end</span><br><span class="line">new Promise then</span><br><span class="line">timer1</span><br><span class="line">timer1 new Promise</span><br><span class="line">timer1 new Promise then</span><br><span class="line">timer1 Promise then</span><br><span class="line">timer2</span><br><span class="line">timer2 Promise then</span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading1.gif" data-lazy-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b222442fa0904f0d956565597e1fab17~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p>
<p><code>Node</code>的<code>Event loop</code>一共分为 6 个阶段，每个细节具体如下：</p>
<ol>
<li> <code>timers</code>: 执行<code>setTimeout</code>和<code>setInterval</code>中到期的<code>callback</code>。</li>
<li> <code>pending callback</code>: 上一轮循环中少数的<code>callback</code>会放在这一阶段执行。</li>
<li> <code>idle, prepare</code>: 仅在内部使用。</li>
<li> <code>poll</code>: 最重要的阶段，执行<code>pending callback</code>，在适当的情况下回阻塞在这个阶段。</li>
<li> <code>check</code>: 执行<code>setImmediate</code>(<code>setImmediate()</code>是将事件插入到事件队列尾部，主线程和事件队列的函数执行完成之后立即执行<code>setImmediate</code>指定的回调函数)的<code>callback</code>。</li>
<li> <code>close callbacks</code>: 执行<code>close</code>事件的<code>callback</code>，例如<code>socket.on(&#39;close&#39;[,fn])</code>或者<code>http.server.on(&#39;close, fn)</code>。</li>
</ol>
<h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><h3 id="常见状态码"><a href="#常见状态码" class="headerlink" title="常见状态码"></a><strong>常见状态码</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1xx: 接受，继续处理 </span><br><span class="line">200: 成功，并返回数据 </span><br><span class="line">201: 已创建 </span><br><span class="line">202: 已接受 </span><br><span class="line">203: 成为，但未授权 </span><br><span class="line">204: 成功，无内容 </span><br><span class="line">205: 成功，重置内容 </span><br><span class="line">206: 成功，部分内容 </span><br><span class="line">301: 永久移动，重定向 </span><br><span class="line">302: 临时移动，可使用原有 URI </span><br><span class="line">304: 资源未修改，可使用缓存 </span><br><span class="line">305: 需代理访问 </span><br><span class="line">400: 请求语法错误 </span><br><span class="line">401: 要求身份认证 </span><br><span class="line">403: 拒绝请求 </span><br><span class="line">404: 资源不存在 </span><br><span class="line">500: 服务器错误</span><br></pre></td></tr></table></figure>


<h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903958624878606">面试官，不要再问我三次握手和四次挥手</a></p>
</blockquote>
<h4 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a><strong>三次握手</strong></h4><p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/16da9fd28a45bd19~tplv-t2oaga2asx-watermark.awebp" alt="三次握手.png"></p>
<p><strong>为什么需要三次握手，两次不可以吗</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">为了防止失效的连接请求又传送到主机，因而产生错误。</span><br><span class="line">如果使用的是两次握手建立连接，假设有这样一种场景，客户端发送了第一个请</span><br><span class="line">求连接并且没有丢失，只是因为在网络结点中滞留的时间太长了，由于 TCP 的客</span><br><span class="line">户端迟迟没有收到确认报文，以为服务器没有收到，此时重新向服务器发送这条</span><br><span class="line">报文，此后客户端和服务器经过两次握手完成连接，传输数据，然后关闭连接。</span><br><span class="line">此时此前滞留的那一次请求连接，网络通畅了到达了服务器，这个报文本该是失</span><br><span class="line">效的，但是，两次握手的机制将会让客户端和服务器再次建立连接，这将导致不</span><br><span class="line">必要的错误和资源的浪费。</span><br><span class="line"></span><br><span class="line">如果采用的是三次握手，就算是那一次失效的报文传送过来了，服务端接受到了</span><br><span class="line">那条失效报文并且回复了确认报文，但是客户端不会再次发出确认。由于服务器</span><br><span class="line">收不到确认，就知道客户端并没有请求连接。</span><br></pre></td></tr></table></figure>
<h4 id="四次挥手"><a href="#四次挥手" class="headerlink" title="四次挥手"></a>四次挥手</h4><p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/16da9fd28b49f652~tplv-t2oaga2asx-watermark.awebp" alt="image.png"></p>
<p><strong>挥手为什么需要四次？</strong></p>
<p>因为当服务端收到客户端的 SYN 连接请求报文后，可以直接发送 SYN+ACK 报文。其中<strong>ACK 报文是用来应答的，SYN 报文是用来同步的</strong>。但是关闭连接时，当服务端收到 FIN 报文时，很可能并不会立即关闭 SOCKET，所以只能先回复一个 ACK 报文，告诉客户端，”你发的 FIN 报文我收到了”。只有等到我服务端所有的报文都发送完了，我才能发送 FIN 报文，因此不能一起发送。故需要四次挥手。</p>
<p><strong><code>2MSL</code>等待状态</strong></p>
<p>TIME_WAIT 状态也成为<code>2MSL</code>等待状态。每个具体 TCP 实现必须选择一个报文段最大生存时间 MSL（Maximum Segment Lifetime），它是任何报文段被丢弃前在网络内的最长时间。这个时间是有限的，因为 TCP 报文段以 IP 数据报在网络内传输，而 IP 数据报则有限制其生存时间的 TTL 字段。</p>
<p>对一个具体实现所给定的 MSL 值，处理的原则是：当 TCP 执行一个主动关闭，并发回最后一个 ACK，该连接必须在 TIME_WAIT 状态停留的时间为 2 倍的 MSL。这样可让 TCP 再次发送最后的 ACK 以防这个 ACK 丢失（另一端超时并重发最后的 FIN）。</p>
<p>这种 2MSL 等待的另一个结果是这个 TCP 连接在 2MSL 等待期间，定义这个连接的插口（客户的 IP 地址和端口号，服务器的 IP 地址和端口号）不能再被使用。这个连接只能在 2MSL 结束后才能再被使用。</p>
<h3 id="HTTP-版本"><a href="#HTTP-版本" class="headerlink" title="HTTP 版本"></a>HTTP <strong>版本</strong></h3><p>HTTP/1.0 </p>
<p>最早的 http 只是使用一些简单的网页上和网络请求上，每次请求都打开一个新的 TCP 连接， 收到响应后立即断开连接 </p>
<p>HTTP/1.1<br>缓存处理，HTTP/1.1 更多的引入了缓存策略，如 Cache-Control，Entity tag，If-Unmodified-Since, If-Match, If-None-Match 等 </p>
<p>宽带优化及网络连接的使用，在 HTTP/1.0 中，存在一些浪费宽带的现象，列如客户端只需要某个对象的一部分，而服务器把整个对象都送过来了，并且不支持断点续传，HTTP1.1 则 </p>
<p>在请求头引入了 range 头域，它允许只请求资源的某个部分，即返回码是 206（PartialContent），这样就方便了开发者自由的选择以便于充分利用带宽和连接。 </p>
<p>错误通知的管理，在 HTTP/1.1 中新增了 24 个错误状态响应码，如 409（Conflict）表示请求的资源与资源的当前状态发生冲突；410（Gone）表示服务器上的某个资源被永久性的删除。 </p>
<p>Host 头处理，在 HTTP1.0 中认为每台服务器都绑定一个唯一的 IP 地址，因此，请求消息中 </p>
<p>的 URL 并没有传递主机名。但随着虚拟主机技术的发展，在一台物理服务器上可以存在多 </p>
<p>个虚拟主机（Multi-homed Web Servers），并且它们共享一个 IP 地址。HTTP1.1 的请求消息和响应消息都应支持 Host 头域，且请求消息中如果没有 Host 头域会报告一个错误（400 Bad Request） </p>
<p>长连接， HTTP/1.1 默认开启持久连接（默认：keep-alive），在一个 TCP 连接上可以传递多 </p>
<p>个 HTTP 请求和响应，减少了建立与关闭连接的消耗和延迟 </p>
<p>HTTP/2.0 </p>
<p>在 HTTP/2.0 中，有两个重要的概念，分别是帧（frame） 和 流（stream），帧代表数据传输 </p>
<p>的最小单位，每个帧都有序列标识标明该帧属于哪个流，流也就是多个帧组成的数据流，每 </p>
<p>个流表示一个请求。 </p>
<p>新的二进制格式： HTTP/1.x 的解析是基于文本的。基于文本协议的格式解析存在天然缺陷， </p>
<p>文本的表现形式有多样性，要做到健壮性考虑的场景必然很多，二进制则不同，只认 0 和 1 </p>
<p>的组合。基于这种考虑 HTTP2.0 的协议解析决定采用二进制格式，实现方便且健壮。 </p>
<p>多路复用： HTTP/2.0 支持多路复用，这是 HTTP/1.1 持久连接的升级版。多路复用，就是在 </p>
<p>一个 TCP 连接中存在多个条流，也就是多个请求，服务器则可以通过帧中的标识知道该帧属 </p>
<p>于哪个流（即请求），通过重新排序还原请求。多路复用允许并发多个请求，每个请求及该 </p>
<p>请求的响应不需要等待其他的请求或响应，避免了线头阻塞问题。这样某个请求任务耗时严 </p>
<p>重，不会影响到其它连接的正常执行,极大的提高传输性能。 </p>
<p>头部压缩： 对前面提到的 HTTP/1.x 的 header 带有大量信息，而且每次都要重复发送， </p>
<p>HTTP/2.0 使用 encoder 来减少需要传输的头部大小，通讯双方各自 cache 一份头部 fields 表， </p>
<p>既避免了重复头部的传输，又减小了需要传输的大小。 </p>
<p>服务端推送： 服务端推送指把客户端所需要的 css/js/img 资源伴随着 index.html 一起发送 </p>
<p>到客户端，省去了客户端重复请求的步骤（从缓存中取）。正因为没有发起请求，建立连接 </p>
<p>等操作，所以静态资源通过服务端推送的方式极大的提升了速度HTTP/3.0 </p>
<p>HTTP/2.0 使用了多路复用，一般来说同一域名下只需要使用一个 TCP 连接。但当这个连接中 </p>
<p>出现了丢包的情况，会导致整个 TCP 都要开始等待重传，也就导致了后面所有的数据都阻塞了。</p>
<p>避免包阻塞： 多个流的数据包在 TCP 连接上传输时，若一个流中的数据包传输出现问题， </p>
<p>TCP 需要等待该包重传后，才能继续传输其它流的数据包。但在基于 UDP 的 QUIC 协议中， </p>
<p>不同的流之间的数据传输真正实现了相互独立互不干扰，某个流的数据包在出问题需要重传 </p>
<p>时，并不会对其他流的数据包传输产生影响。 </p>
<p>快速重启会话: 普通基于 tcp 的连接，是基于两端的 ip 和端口和协议来建立的。在网络切换 </p>
<p>场景，例如手机端切换了无线网，使用 4G 网络，会改变本身的 ip，这就导致 tcp 连接必须 </p>
<p>重新创建。而 QUIC 协议使用特有的 UUID 来标记每一次连接，在网络环境发生变化的时候， </p>
<p>只要 UUID 不变，就能不需要握手，继续传输数据。 </p>
<p>HTTP2.0 的多路复用和 HTTP1.X 中的长连接有什么区别？ </p>
<p>HTTP/1.* 一次请求-响应，建立一个连接，用完关闭；每一个请求都要建立一个连接； </p>
<p>HTTP/1.1 在一个 TCP 连接上可以传递多个 HTTP 请求和响应，后面的请求等待前面的请求返 </p>
<p>回才能获得执行机会，一旦有某个请求超时，后续请求只能被阻塞，毫无办法，也就是常说 </p>
<p>的线头阻塞 </p>
<p>HTTP/2.0 多个请求可同时在一个连接上并行执行.某个请求任务耗时严重，不影响其他连接 </p>
<p>的正常执行。 </p>
<h3 id="https-http-ssl-tls"><a href="#https-http-ssl-tls" class="headerlink" title="https(http + ssl/tls)"></a>https(http + ssl/tls)</h3><p>http: 最广泛网络协议，BS 模型，浏览器高效。</p>
<p>https: 安全版，通过 SSL 加密，加密传输，身份认证，密钥</p>
<p>1 https 相对于 http 加入了 ssl 层, 加密传输, 身份认证;</p>
<p>2 需要到 ca 申请收费的证书;</p>
<p>3 安全但是耗时多，缓存不是很好;</p>
<p>4 注意兼容 http 和 https;</p>
<p>5 连接方式不同, 端口号也不同, http 是 80, https 是 443</p>
<ul>
<li><p>明文： 普通的文本</p>
</li>
<li><p>密钥：把明文加密的那个钥匙</p>
</li>
<li><p>密文： 把明文加密</p>
<p>明文+密钥==&gt;密文==&gt;密钥==解密=&gt;明文</p>
</li>
<li><p>对称加密 解密的 key（密钥）和解密的 key 是同一个 3 + 1</p>
</li>
<li><p>非对称加密 私钥和公钥</p>
</li>
</ul>
<p><img src= "/img/loading1.gif" data-lazy-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/489428dbcc4840d689ed717d4335a833~tplv-k3u1fbpfcp-watermark.image" alt="无标题.png"></p>
<h2 id="手写"><a href="#手写" class="headerlink" title="手写"></a>手写</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7031322059414175774">10 个常见的前端手写功能，你全都会吗</a></p>
</blockquote>
<p>最近面试 2022 年 3 月问到了很多手写，这个一定要准备下</p>
<h3 id="防抖-1"><a href="#防抖-1" class="headerlink" title="防抖"></a>防抖</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, wait, immediate</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timeout;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> context = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">const</span> args = [...arguments];</span><br><span class="line">    <span class="keyword">if</span> (timeout) <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">    <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">      <span class="keyword">const</span> callNow = !timeout;</span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        timeout = <span class="literal">null</span>;</span><br><span class="line">      &#125;, wait);</span><br><span class="line">      <span class="keyword">if</span> (callNow) func.apply(context, args);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        func.apply(context, args);</span><br><span class="line">      &#125;, wait);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="节流-1"><a href="#节流-1" class="headerlink" title="节流"></a>节流</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, wait</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> pre = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> now = <span class="built_in">Date</span>.now();</span><br><span class="line">    <span class="keyword">if</span> (now - pre &gt;= wait) &#123;</span><br><span class="line">      fn.apply(<span class="built_in">this</span>, args);</span><br><span class="line">      pre = now;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="event-bus-事件总线-发布订阅模式"><a href="#event-bus-事件总线-发布订阅模式" class="headerlink" title="event bus 事件总线 | 发布订阅模式"></a>event bus 事件总线 | 发布订阅模式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// event bus</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventBus</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.events = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">on</span>(<span class="params">name, callback</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; events &#125; = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">if</span> (!events[name]) &#123;</span><br><span class="line">      events[name] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    events[name].push(callback);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">emit</span>(<span class="params">name, ...args</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> handlers = <span class="built_in">this</span>.events[name];</span><br><span class="line">    handlers &amp;&amp;</span><br><span class="line">      handlers.forEach(<span class="function">(<span class="params">fn</span>) =&gt;</span> &#123;</span><br><span class="line">        fn.apply(<span class="built_in">this</span>, args);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">off</span>(<span class="params">name, callback</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; events &#125; = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">if</span> (!events[name]) <span class="keyword">return</span>;</span><br><span class="line">    events[name] = events[name].filter(<span class="function">(<span class="params">fn</span>) =&gt;</span> fn !== callback);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">once</span>(<span class="params">name, callback</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> handler = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      callback.apply(<span class="built_in">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">      <span class="built_in">this</span>.off(name, handler);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">this</span>.on(name, handler);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">clear</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.events = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="数据偏平化"><a href="#数据偏平化" class="headerlink" title="数据偏平化"></a>数据偏平化</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数据偏平化</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatter</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">prev, curr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.isArray(curr) ? [...prev, ...flatter(curr)] : [...prev, curr];</span><br><span class="line">  &#125;, []);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="手写-new"><a href="#手写-new" class="headerlink" title="手写 new"></a>手写 new</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 手写 new</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myNew</span>(<span class="params">ctr, ...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> obj = <span class="built_in">Object</span>.create(ctr.prototype);</span><br><span class="line">  myNew.target = ctr;</span><br><span class="line">  <span class="keyword">const</span> result = ctr.apply(obj, args);</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    result &amp;&amp;</span><br><span class="line">    (<span class="keyword">typeof</span> result === <span class="string">&quot;function&quot;</span> || <span class="keyword">typeof</span> result === <span class="string">&quot;function&quot;</span>)</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="call、bind"><a href="#call、bind" class="headerlink" title="call、bind"></a>call、bind</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myCall = <span class="function"><span class="keyword">function</span> (<span class="params">context, ...args</span>) </span>&#123;</span><br><span class="line">  context = context || <span class="built_in">window</span>;</span><br><span class="line">  <span class="keyword">const</span> fn = <span class="built_in">Symbol</span>();</span><br><span class="line">  context[fn] = <span class="built_in">this</span>;</span><br><span class="line">  <span class="keyword">const</span> result = context[fn](...args);</span><br><span class="line">  <span class="keyword">delete</span> context[fn];</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//bind实现要复杂一点  因为他考虑的情况比较多 还要涉及到参数合并(类似函数柯里化)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Function</span>.prototype.myBind = <span class="function"><span class="keyword">function</span> (<span class="params">context, ...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!context || context === <span class="literal">null</span>) &#123;</span><br><span class="line">    context = <span class="built_in">window</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 创造唯一的key值  作为我们构造的context内部方法名</span></span><br><span class="line">  <span class="keyword">let</span> fn = <span class="built_in">Symbol</span>();</span><br><span class="line">  context[fn] = <span class="built_in">this</span>;</span><br><span class="line">  <span class="keyword">let</span> _this = <span class="built_in">this</span>;</span><br><span class="line">  <span class="comment">//  bind情况要复杂一点</span></span><br><span class="line">  <span class="keyword">const</span> result = <span class="function"><span class="keyword">function</span> (<span class="params">...innerArgs</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 第一种情况 :若是将 bind 绑定之后的函数当作构造函数，通过 new 操作符使用，则不绑定传入的 this，而是将 this 指向实例化出来的对象</span></span><br><span class="line">    <span class="comment">// 此时由于new操作符作用  this指向result实例对象  而result又继承自传入的_this 根据原型链知识可得出以下结论</span></span><br><span class="line">    <span class="comment">// this.__proto__ === result.prototype   //this instanceof result =&gt;true</span></span><br><span class="line">    <span class="comment">// this.__proto__.__proto__ === result.prototype.__proto__ === _this.prototype; //this instanceof _this =&gt;true</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span> <span class="keyword">instanceof</span> _this === <span class="literal">true</span>) &#123;</span><br><span class="line">      <span class="comment">// 此时this指向指向result的实例  这时候不需要改变this指向</span></span><br><span class="line">      <span class="built_in">this</span>[fn] = _this;</span><br><span class="line">      <span class="built_in">this</span>[fn](...[...args, ...innerArgs]); <span class="comment">//这里使用es6的方法让bind支持参数合并</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 如果只是作为普通函数调用  那就很简单了 直接改变this指向为传入的context</span></span><br><span class="line">      context[fn](...[...args, ...innerArgs]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 如果绑定的是构造函数 那么需要继承构造函数原型属性和方法</span></span><br><span class="line">  <span class="comment">// 实现继承的方式: 使用Object.create</span></span><br><span class="line">  result.prototype = <span class="built_in">Object</span>.create(<span class="built_in">this</span>.prototype);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="异步控制并发数"><a href="#异步控制并发数" class="headerlink" title="异步控制并发数"></a>异步控制并发数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">limitRequest</span>(<span class="params">requests, limit = <span class="number">3</span></span>) </span>&#123;</span><br><span class="line">  requests = requests.slice();</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> len = requests.length;</span><br><span class="line">    <span class="keyword">while</span> (limit &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      start();</span><br><span class="line">      limit--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> promiseFn = requests.shift();</span><br><span class="line"></span><br><span class="line">      promiseFn?.().finally(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        count++; <span class="comment">// 一定要通过 count 判断、不能通过 requests.length 判断是否为空，这样不对的</span></span><br><span class="line">        <span class="keyword">if</span> (count === len) &#123;</span><br><span class="line">          <span class="comment">// 最后一个</span></span><br><span class="line">          resolve();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          start();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line"><span class="keyword">const</span> arr = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> <span class="string">&quot;12345&quot;</span>) &#123;</span><br><span class="line">  arr.push(<span class="function">() =&gt;</span> fetch(<span class="string">`https://www.baidu.com/s?ie=UTF-8&amp;wd=<span class="subst">$&#123;value&#125;</span>`</span>));</span><br><span class="line">&#125;</span><br><span class="line">limitRequest(arr);</span><br></pre></td></tr></table></figure>
<h2 id="算法-特殊题目"><a href="#算法-特殊题目" class="headerlink" title="算法/特殊题目"></a>算法/特殊题目</h2><p>最近面试 2022 年 3 月问到了很多手写，这个一定要准备下、下面都是我被问到的</p>
<h3 id="台阶问题"><a href="#台阶问题" class="headerlink" title="台阶问题"></a>台阶问题</h3><p>有 N 个台阶，一步可以走一梯或者两梯，请问有多少种走法</p>
<p>解答：<a target="_blank" rel="noopener" href="https://blog.csdn.net/z1832729975/article/details/123836190">https://blog.csdn.net/z1832729975/article/details/123836190</a></p>
<h3 id="有效括号"><a href="#有效括号" class="headerlink" title="有效括号"></a>有效括号</h3><blockquote>
<p>我面试才几家，这个有两家都问到了 <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/valid-parentheses/">力扣原题</a></p>
</blockquote>
<p>给定一个只包括 ‘(‘，’)’，’{‘，’}’，’[‘，’]’ 的字符串 s ，判断字符串是否有效。</p>
<p>有效字符串需满足：</p>
<p>左括号必须用相同类型的右括号闭合。<br>左括号必须以正确的顺序闭合。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">示例 1：</span><br><span class="line">输入：s &#x3D; &quot;()&quot;</span><br><span class="line">输出：true</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">示例 2：</span><br><span class="line">输入：s &#x3D; &quot;()[]&#123;&#125;&quot;</span><br><span class="line">输出：true</span><br><span class="line"></span><br><span class="line">示例 3：</span><br><span class="line">输入：s &#x3D; &quot;(]&quot;</span><br><span class="line">输出：false</span><br></pre></td></tr></table></figure>
<p><strong>实现</strong></p>
<p>我们可以通过栈来实现、当遇到左括号的时候就把对应的右括号值<code>push</code>到栈中，否则的话我们就把栈定的元素<code>pop</code>和当前字符比较是否相等，不相信的话直接返回 <code>false</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">s</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;boolean&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> isValid = <span class="function"><span class="keyword">function</span> (<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!s) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">const</span> leftFlags = &#123;</span><br><span class="line">    <span class="string">&quot;(&quot;</span>: <span class="string">&quot;)&quot;</span>,</span><br><span class="line">    <span class="string">&quot;&#123;&quot;</span>: <span class="string">&quot;&#125;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[&quot;</span>: <span class="string">&quot;]&quot;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">const</span> stack = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> chart <span class="keyword">of</span> s) &#123;</span><br><span class="line">    <span class="keyword">const</span> flag = leftFlags[chart];</span><br><span class="line">    <span class="comment">// 是左括号</span></span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">      stack.push(flag);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 是右括号</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (chart !== stack.pop()) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> stack.length === <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="现在时间-07-15，请问分针和时针的夹角是多少"><a href="#现在时间-07-15，请问分针和时针的夹角是多少" class="headerlink" title="现在时间 07:15，请问分针和时针的夹角是多少"></a>现在时间 07:15，请问分针和时针的夹角是多少</h3><p>先看看时钟，要了解 07:15 在哪，这个不知道在哪就尴尬了</p>
<p><img src= "/img/loading1.gif" data-lazy-src="https://img-blog.csdnimg.cn/833a03cad6e346789184fbe5643ec241.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAemjpmL_po54=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>画图，结果如下</p>
<p>7 点 15 分时针和分针所形成的角是</p>
<p>120 + 30*1/4=127.5</p>
<p>这题需要注意时针还好继续走，不会固定，不然容易被坑</p>
<p><img src= "/img/loading1.gif" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/image-20220331153206674.png" alt="image-20220331153206674"></p>
<h3 id="写-IP-地址的正则表达式"><a href="#写-IP-地址的正则表达式" class="headerlink" title="写 IP 地址的正则表达式"></a>写 IP 地址的正则表达式</h3><p>分析<code>ip</code>地址</p>
<h3 id="让-a-1-amp-amp-a-2-amp-amp-a-3-为-true"><a href="#让-a-1-amp-amp-a-2-amp-amp-a-3-为-true" class="headerlink" title="让 a==1 &amp;&amp; a==2 &amp;&amp; a==3 为 true"></a>让 <code>a==1 &amp;&amp; a==2 &amp;&amp; a==3</code> 为 <code>true</code></h3><blockquote>
<p>因为这个是 ==, 会存在隐式类型转换</p>
</blockquote>
<ul>
<li><p>利用对象</p>
<p><code>Symbol.toString</code></p>
<p><code>valueOf</code></p>
<p><code>toString</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  value: <span class="number">1</span>,</span><br><span class="line">  <span class="comment">// 这三种方法都可以，优先级也是这个顺序</span></span><br><span class="line">  [<span class="built_in">Symbol</span>.toString]() &#123;</span><br><span class="line">    <span class="keyword">return</span> a.value++;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// valueOf() &#123;</span></span><br><span class="line">  <span class="comment">//   return a.value++</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="comment">// toString() &#123;</span></span><br><span class="line">  <span class="comment">//   return a.value++</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li><p>利用数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a.valueOf = a.shift;</span><br><span class="line"><span class="comment">// 一样有</span></span><br><span class="line"><span class="comment">//a[Symbol.toPrimitive] = a.shift</span></span><br><span class="line"><span class="comment">//a.toString = a.shift</span></span><br></pre></td></tr></table></figure></li>
<li><p>通过<code>Object.defineProperty</code>拦截</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">window</span>, <span class="string">&quot;a&quot;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value++;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>通过 Proxy 拦截</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> a = <span class="keyword">new</span> <span class="built_in">Proxy</span>(</span><br><span class="line">  &#123;&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> value++;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="typescript"><a href="#typescript" class="headerlink" title="typescript"></a>typescript</h2></li>
</ul>
<blockquote>
<p>建议先把基础的东西学会，推荐看这篇文章、基础的学会，就能应付大多数的 typescript 面试了</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7018805943710253086">2021 typescript 史上最强学习入门文章(2w 字)</a></p>
</blockquote>
<h3 id="const和readonly的区别"><a href="#const和readonly的区别" class="headerlink" title="const和readonly的区别"></a><code>const</code>和<code>readonly</code>的区别</h3><p><code>const</code>常量：表示这个变量的指针地址不可以在改变，可以更改对象内部的属性</p>
<p><code>readonly</code>只读：指针地址不可以改变，并且对象内部的属性也不可以改变</p>
<ol>
<li>const 用于变量，readonly 用于属性</li>
<li>const 在运行时检查，readonly 在编译时检查</li>
<li>使用 const 变量保存的数组，可以使用 push，pop 等方法。但是如果使用<code>ReadonlyArray</code>声明的数组不能使用 push，pop 等方法。</li>
</ol>
<h3 id="type和interface的区别"><a href="#type和interface的区别" class="headerlink" title="type和interface的区别"></a><code>type</code>和<code>interface</code>的区别</h3><p>参考：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7018805943710253086#heading-63">https://juejin.cn/post/7018805943710253086#heading-63</a></p>
<p>type-类型别名</p>
<p>interface-接口</p>
<ol start="2">
<li><p>接口重名会合并、类型别名重名会报错</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这个接口合并，变成下面的</span></span><br><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Aanimal = &#123; <span class="attr">name</span>: <span class="built_in">string</span> &#125;;</span><br><span class="line"><span class="keyword">type</span> Aanimal = &#123; <span class="attr">age</span>: <span class="built_in">number</span> &#125;; <span class="comment">// 会报错、重名了</span></span><br></pre></td></tr></table></figure></li>
<li><p>两者都可以用来描述对象或函数的类型，但是语法不同</p>
<p>interface</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Point &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> SetPoint &#123;</span><br><span class="line">  (x: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>type</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Point = &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> SetPoint = <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>类型别名可以为任何类型引入名称。例如基本类型，联合类型等</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// primitive</span></span><br><span class="line"><span class="keyword">type</span> Name = <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// object</span></span><br><span class="line"><span class="keyword">type</span> PartialPointX = &#123; <span class="attr">x</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line"><span class="keyword">type</span> PartialPointY = &#123; <span class="attr">y</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// union</span></span><br><span class="line"><span class="keyword">type</span> PartialPoint = PartialPointX | PartialPointY;</span><br><span class="line"></span><br><span class="line"><span class="comment">// tuple</span></span><br><span class="line"><span class="keyword">type</span> Data = [<span class="built_in">number</span>, <span class="built_in">string</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// dom</span></span><br><span class="line"><span class="keyword">let</span> div = <span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span><br><span class="line"><span class="keyword">type</span> B = <span class="keyword">typeof</span> div;</span><br></pre></td></tr></table></figure></li>
<li><p>扩展</p>
<p>两者的扩展方式不同，但并不互斥。接口可以扩展类型别名，同理，类型别名也可以扩展接口。</p>
<p>接口的扩展就是继承，通过 <code>extends</code> 来实现。类型别名的扩展就是交叉类型，通过 <code>&amp;</code> 来实现。</p>
<p>接口扩展接口</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> PointX &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Point <span class="keyword">extends</span> PointX &#123;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>类型别名扩展类型别名</p>
</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> PointX = &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Point = PointX &amp; &#123;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>接口扩展类型别名</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> PointX = &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">interface</span> Point <span class="keyword">extends</span> PointX &#123;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>类型别名扩展接口</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> PointX &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Point = PointX &amp; &#123;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="keyof-和-typeof-关键字的作用？"><a href="#keyof-和-typeof-关键字的作用？" class="headerlink" title="keyof 和 typeof 关键字的作用？"></a><strong>keyof 和 typeof 关键字的作用？</strong></h3><blockquote>
<p><code>keyof 索引类型查询操作符</code> 获取索引类型的属性名，构成联合类型。<br><code>typeof</code> 获取一个变量或对象的类型。</p>
</blockquote>
<h3 id="unknown-any-的区别"><a href="#unknown-any-的区别" class="headerlink" title="unknown, any 的区别"></a>unknown, any 的区别</h3><blockquote>
<p>unknown 类型和 any 类型类似。与 any 类型不同的是。unknown 类型可以接受任意类型赋值，但是 unknown 类型赋值给其他类型前，必须被断言</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">JaveyRabbit</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://javeyrabbit.github.io/2022/07/10/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/">https://javeyrabbit.github.io/2022/07/10/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://javeyrabbit.github.io" target="_blank">JaveyRabbit's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95/">面试</a><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">算法</a></div><div class="post_share"><div class="social-share" data-image="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/123.jpg" data-sites="facebook,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/pay.png" target="_blank"><img class="post-qr-code-img" data-lazy-src="/img/pay.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/pay.png" target="_blank"><img class="post-qr-code-img" data-lazy-src="/img/pay.png" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/07/11/%E6%8E%92%E5%BA%8F%E4%BB%A3%E7%A0%81/"><img class="prev-cover" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/123.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">排序代码 快排 冒泡 折半</div></div></a></div><div class="next-post pull-right"><a href="/2021/06/19/hexo%E6%8F%90%E4%BA%A4%E9%97%AE%E9%A2%98/"><img class="next-cover" data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/image-20220619172444020.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">hexo提交问题</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="/img/dog.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">JaveyRabbit</div><div class="author-info__description">只要有希望，一切都不晚</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/javeyrabbit"><i class="fab fa-github"></i><span>个人 Github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ljhjavey/springboot-learning-Announcement" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/2508183819@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/2508183819@qq.com" target="_blank" title="QQ"><i class="fab fa-qq"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎朋友们来进行学习交流，有关java后端、Vue前端等问题都可以进行咨询</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">前端面试题整理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS%E3%80%81HTML"><span class="toc-number">1.1.</span> <span class="toc-text">CSS、HTML</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8"><span class="toc-number">1.1.1.</span> <span class="toc-text">浏览器内核</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E6%98%AF%E6%80%8E%E4%B9%88%E7%90%86%E8%A7%A3-HTML-%E8%AF%AD%E4%B9%89%E5%8C%96"><span class="toc-number">1.1.2.</span> <span class="toc-text">你是怎么理解 HTML 语义化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOCTYPE-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.1.3.</span> <span class="toc-text">DOCTYPE 的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%8C%E5%86%85%E5%85%83%E7%B4%A0%E3%80%81%E5%9D%97%E7%BA%A7%E5%85%83%E7%B4%A0%E3%80%81-%E7%A9%BA%E5%85%83%E7%B4%A0%E6%9C%89%E9%82%A3%E4%BA%9B%EF%BC%9F"><span class="toc-number">1.1.4.</span> <span class="toc-text">行内元素、块级元素、 空元素有那些？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#meta-viewport-%E6%98%AF%E5%81%9A%E4%BB%80%E4%B9%88%E7%94%A8%E7%9A%84%EF%BC%8C%E6%80%8E%E4%B9%88%E5%86%99"><span class="toc-number">1.1.5.</span> <span class="toc-text">meta viewport 是做什么用的，怎么写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#label-%E6%A0%87%E7%AD%BE%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.1.6.</span> <span class="toc-text">label 标签的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#canvas-%E5%9C%A8%E6%A0%87%E7%AD%BE%E4%B8%8A%E8%AE%BE%E7%BD%AE%E5%AE%BD%E9%AB%98-%E5%92%8C%E5%9C%A8-style-%E4%B8%AD%E8%AE%BE%E7%BD%AE%E5%AE%BD%E9%AB%98%E6%9C%89%E4%BB%80%E4%B9%88-%E5%8C%BA%E5%88%AB"><span class="toc-number">1.1.7.</span> <span class="toc-text">canvas 在标签上设置宽高 和在 style 中设置宽高有什么 区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#html5-%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">1.1.8.</span> <span class="toc-text">html5 新特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#css3-%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">1.1.9.</span> <span class="toc-text">css3 新特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#css-%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">1.1.10.</span> <span class="toc-text">css 选择器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%92%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.11.</span> <span class="toc-text">盒模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#margin-%E5%90%88%E5%B9%B6"><span class="toc-number">1.1.12.</span> <span class="toc-text">margin 合并</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#margin-%E5%A1%8C%E9%99%B7"><span class="toc-number">1.1.13.</span> <span class="toc-text">margin 塌陷</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BFC"><span class="toc-number">1.1.14.</span> <span class="toc-text">BFC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#flex"><span class="toc-number">1.1.15.</span> <span class="toc-text">flex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-rem%E3%80%81px%E3%80%81em-%E5%8C%BA%E5%88%AB"><span class="toc-number">1.1.16.</span> <span class="toc-text">什么是 rem、px、em 区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80"><span class="toc-number">1.1.17.</span> <span class="toc-text">响应式布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B1%80"><span class="toc-number">1.1.18.</span> <span class="toc-text">布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD"><span class="toc-number">1.1.19.</span> <span class="toc-text">水平垂直居中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iframe-%E6%9C%89%E5%93%AA%E4%BA%9B%E7%BC%BA%E7%82%B9%EF%BC%9F"><span class="toc-number">1.1.20.</span> <span class="toc-text">iframe 有哪些缺点？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#link-import-%E5%AF%BC%E5%85%A5-css"><span class="toc-number">1.1.21.</span> <span class="toc-text">link @import 导入 css</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">1.1.22.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM-%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6-%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.23.</span> <span class="toc-text">DOM 事件机制&#x2F;模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98"><span class="toc-number">1.1.23.1.</span> <span class="toc-text">事件委托</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E9%9C%80%E8%A6%81%E6%89%8B%E5%8A%A8%E5%86%99%E5%8A%A8%E7%94%BB%EF%BC%8C%E4%BD%A0%E8%AE%A4%E4%B8%BA%E6%9C%80%E5%B0%8F%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94%E6%98%AF%E5%A4%9A%E4%B9%85"><span class="toc-number">1.1.24.</span> <span class="toc-text">如果需要手动写动画，你认为最小时间间隔是多久</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#before%E5%92%8C-after%E4%B8%AD%E5%8F%8C%E5%86%92%E5%8F%B7%E5%92%8C%E5%8D%95%E5%86%92%E5%8F%B7%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">1.1.25.</span> <span class="toc-text">::before和:after中双冒号和单冒号有什么区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CSS-sprites-%E7%B2%BE%E7%81%B5%E5%9B%BE"><span class="toc-number">1.1.26.</span> <span class="toc-text">CSS sprites 精灵图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E6%8E%92%E5%92%8C%E9%87%8D%E7%BB%98"><span class="toc-number">1.1.27.</span> <span class="toc-text">重排和重绘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript"><span class="toc-number">1.2.</span> <span class="toc-text">JavaScript</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RegExp"><span class="toc-number">1.2.1.</span> <span class="toc-text">.RegExp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#js-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.2.</span> <span class="toc-text">js 数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Symbol"><span class="toc-number">1.2.3.</span> <span class="toc-text">Symbol</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-number">1.2.4.</span> <span class="toc-text">深拷贝和浅拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON-stringify-%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.5.</span> <span class="toc-text">JSON.stringify 问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">1.2.6.</span> <span class="toc-text">模块化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AMD-%E5%BC%82%E6%AD%A5%E6%A8%A1%E5%9D%97%E5%AE%9A%E4%B9%89-%E5%92%8C-CMD-%E9%80%9A%E7%94%A8%E6%A8%A1%E5%9D%97%E5%AE%9A%E4%B9%89-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">1.2.6.1.</span> <span class="toc-text">AMD 异步模块定义  和 CMD 通用模块定义 的区别有哪些</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CommonJS-%E4%B8%8E-ES6-Module-%E7%9A%84%E5%B7%AE%E5%BC%82"><span class="toc-number">1.2.6.2.</span> <span class="toc-text">CommonJS 与 ES6 Module 的差异</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JS-%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.7.</span> <span class="toc-text">JS 延迟加载的方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call%E3%80%81apply-%E3%80%81bind"><span class="toc-number">1.2.8.</span> <span class="toc-text">call、apply 、bind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E6%8A%96"><span class="toc-number">1.2.9.</span> <span class="toc-text">防抖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8A%82%E6%B5%81"><span class="toc-number">1.2.10.</span> <span class="toc-text">节流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">1.2.11.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E3%80%81%E5%8E%9F%E5%9E%8B%E9%93%BE-%E9%AB%98%E9%A2%91"><span class="toc-number">1.2.12.</span> <span class="toc-text">原型、原型链(高频)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#this-%E6%8C%87%E5%90%91%E3%80%81new-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.2.13.</span> <span class="toc-text">this 指向、new 关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE%E3%80%81%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87"><span class="toc-number">1.2.14.</span> <span class="toc-text">作用域、作用域链、变量提升</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-%E5%90%AB-es6-%E3%80%81%E5%A4%9A%E7%A7%8D%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.15.</span> <span class="toc-text">继承(含 es6)、多种继承方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.2.16.</span> <span class="toc-text">类型转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-is-%E4%B8%8E%E6%AF%94%E8%BE%83%E6%93%8D%E4%BD%9C%E7%AC%A6-%E3%80%81-%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">1.2.17.</span> <span class="toc-text">Object.is()与比较操作符&#x3D;&#x3D;、&#x3D;&#x3D;&#x3D;的区别？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E8%A7%84%E5%88%99"><span class="toc-number">1.2.17.1.</span> <span class="toc-text">&#x3D;&#x3D;操作符的强制类型转换规则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6"><span class="toc-number">1.2.18.</span> <span class="toc-text">ES6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#let-const"><span class="toc-number">1.2.19.</span> <span class="toc-text">let&#x2F;const</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6-%E7%9A%84%E4%B8%80%E4%BA%9B%E5%8F%AB%E6%B3%95"><span class="toc-number">1.2.20.</span> <span class="toc-text">ES6 的一些叫法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E5%92%8C%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.2.21.</span> <span class="toc-text">箭头函数和普通函数的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%BC%82%E6%AD%A5%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1"><span class="toc-number">1.2.22.</span> <span class="toc-text">如何解决异步回调地狱</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mouseover-%E5%92%8C-mouseenter-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.2.23.</span> <span class="toc-text">mouseover 和 mouseenter 的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setTimeout%E3%80%81setInterval-%E5%92%8C-requestAnimationFrame-%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.2.24.</span> <span class="toc-text">setTimeout、setInterval 和 requestAnimationFrame 之间的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue"><span class="toc-number">1.3.</span> <span class="toc-text">vue</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.3.1.</span> <span class="toc-text">vue 生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-%E7%9A%84-data-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.2.</span> <span class="toc-text">Vue 的 data 为什么是一个函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-key-%E5%80%BC%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.3.3.</span> <span class="toc-text">Vue key 值的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E5%8E%9F%E7%90%86"><span class="toc-number">1.3.4.</span> <span class="toc-text">Vue 双向数据绑定原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-extend-%E5%92%8C-mixins"><span class="toc-number">1.3.5.</span> <span class="toc-text">Vue extend 和 mixins</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6"><span class="toc-number">1.3.6.</span> <span class="toc-text">动态组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E7%BB%84%E4%BB%B6"><span class="toc-number">1.3.7.</span> <span class="toc-text">递归组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-%E7%BB%84%E4%BB%B6%E9%97%B4%E7%9A%84%E4%BC%A0%E5%80%BC%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.3.8.</span> <span class="toc-text">Vue 组件间的传值的几种方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#watch%E3%80%81mixins%E3%80%81%E7%BB%84%E4%BB%B6%E9%A1%BA%E5%BA%8F%E3%80%81%E7%BB%84%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.9.</span> <span class="toc-text">watch、mixins、组件顺序、组件配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4"><span class="toc-number">1.3.10.</span> <span class="toc-text">指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.3.11.</span> <span class="toc-text">修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scoped"><span class="toc-number">1.3.12.</span> <span class="toc-text">scoped</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-router"><span class="toc-number">1.3.13.</span> <span class="toc-text">vue-router</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vuex"><span class="toc-number">1.3.14.</span> <span class="toc-text">vuex</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue3"><span class="toc-number">1.4.</span> <span class="toc-text">vue3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vue3-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.4.1.</span> <span class="toc-text">vue3 生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%A3%E7%A0%81"><span class="toc-number">1.4.2.</span> <span class="toc-text">基本代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#main-js"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">main.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#App-vue"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">App.vue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Child-composition-%EF%BC%88%E7%BB%84%E5%90%88%E5%BC%8F-api%EF%BC%89"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">Child-composition （组合式 api）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Child-setup"><span class="toc-number">1.4.2.4.</span> <span class="toc-text">Child-setup</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3"><span class="toc-number">1.5.</span> <span class="toc-text">项目相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git"><span class="toc-number">1.5.1.</span> <span class="toc-text">git</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#git-pull-%E5%92%8C-git-featch-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">git pull 和 git featch 的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%8E%E4%B9%88%E6%A0%B7%E8%BF%9B%E8%A1%8C%E5%90%88%E5%B9%B6%EF%BC%8C%E6%AF%94%E5%A6%82%E6%8A%8A-mater-%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6%E5%88%B0-dev-%E5%88%86%E6%94%AF"><span class="toc-number">1.5.1.3.</span> <span class="toc-text">怎么样进行合并，比如把 mater 分支合并到 dev 分支</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Webpack-%E4%B8%80%E4%BA%9B%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%EF%BC%9A"><span class="toc-number">1.5.2.</span> <span class="toc-text">Webpack 一些核心概念：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8D%87-webpack-%E6%89%93%E5%8C%85%E9%80%9F%E5%BA%A6"><span class="toc-number">1.5.3.</span> <span class="toc-text">提升 webpack 打包速度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-%E5%B8%B8%E7%94%A8-loader%EF%BC%8Cplugin"><span class="toc-number">1.5.4.</span> <span class="toc-text">webpack 常用 loader，plugin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">1.5.5.</span> <span class="toc-text">前端性能优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#babel"><span class="toc-number">1.5.6.</span> <span class="toc-text">babel</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-number">1.6.</span> <span class="toc-text">浏览器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie-%E5%92%8C-Session-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.6.1.</span> <span class="toc-text">Cookie 和 Session 的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#localStorage%E5%92%8Ccookie%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.6.2.</span> <span class="toc-text">localStorage和cookie的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F%E3%80%81%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="toc-number">1.6.3.</span> <span class="toc-text">跨域、同源策略</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.6.4.</span> <span class="toc-text">跨域解决方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-number">1.6.5.</span> <span class="toc-text">垃圾回收机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6"><span class="toc-number">1.6.6.</span> <span class="toc-text">缓存机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%BA%E7%BC%93%E5%AD%98"><span class="toc-number">1.6.6.1.</span> <span class="toc-text">强缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98"><span class="toc-number">1.6.6.2.</span> <span class="toc-text">协商缓存</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E7%BC%96%E8%AF%91"><span class="toc-number">1.6.7.</span> <span class="toc-text">预编译</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#event-loop-%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.6.8.</span> <span class="toc-text">event-loop(事件循环)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD"><span class="toc-number">1.6.8.1.</span> <span class="toc-text">浏览器中</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nodejs-%E4%B8%AD"><span class="toc-number">1.6.8.2.</span> <span class="toc-text">nodejs 中</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C"><span class="toc-number">1.7.</span> <span class="toc-text">网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">1.7.1.</span> <span class="toc-text">常见状态码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP"><span class="toc-number">1.7.2.</span> <span class="toc-text">TCP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">三次握手</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span class="toc-number">1.7.2.2.</span> <span class="toc-text">四次挥手</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-%E7%89%88%E6%9C%AC"><span class="toc-number">1.7.3.</span> <span class="toc-text">HTTP 版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#https-http-ssl-tls"><span class="toc-number">1.7.4.</span> <span class="toc-text">https(http + ssl&#x2F;tls)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E5%86%99"><span class="toc-number">1.8.</span> <span class="toc-text">手写</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E6%8A%96-1"><span class="toc-number">1.8.1.</span> <span class="toc-text">防抖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8A%82%E6%B5%81-1"><span class="toc-number">1.8.2.</span> <span class="toc-text">节流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#event-bus-%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.8.3.</span> <span class="toc-text">event bus 事件总线 | 发布订阅模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%81%8F%E5%B9%B3%E5%8C%96"><span class="toc-number">1.8.4.</span> <span class="toc-text">数据偏平化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%86%99-new"><span class="toc-number">1.8.5.</span> <span class="toc-text">手写 new</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call%E3%80%81bind"><span class="toc-number">1.8.6.</span> <span class="toc-text">call、bind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E6%8E%A7%E5%88%B6%E5%B9%B6%E5%8F%91%E6%95%B0"><span class="toc-number">1.8.7.</span> <span class="toc-text">异步控制并发数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%B3%95-%E7%89%B9%E6%AE%8A%E9%A2%98%E7%9B%AE"><span class="toc-number">1.9.</span> <span class="toc-text">算法&#x2F;特殊题目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B0%E9%98%B6%E9%97%AE%E9%A2%98"><span class="toc-number">1.9.1.</span> <span class="toc-text">台阶问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E6%95%88%E6%8B%AC%E5%8F%B7"><span class="toc-number">1.9.2.</span> <span class="toc-text">有效括号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%B0%E5%9C%A8%E6%97%B6%E9%97%B4-07-15%EF%BC%8C%E8%AF%B7%E9%97%AE%E5%88%86%E9%92%88%E5%92%8C%E6%97%B6%E9%92%88%E7%9A%84%E5%A4%B9%E8%A7%92%E6%98%AF%E5%A4%9A%E5%B0%91"><span class="toc-number">1.9.3.</span> <span class="toc-text">现在时间 07:15，请问分针和时针的夹角是多少</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%99-IP-%E5%9C%B0%E5%9D%80%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.9.4.</span> <span class="toc-text">写 IP 地址的正则表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A9-a-1-amp-amp-a-2-amp-amp-a-3-%E4%B8%BA-true"><span class="toc-number">1.9.5.</span> <span class="toc-text">让 a&#x3D;&#x3D;1 &amp;&amp; a&#x3D;&#x3D;2 &amp;&amp; a&#x3D;&#x3D;3 为 true</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#typescript"><span class="toc-number">1.10.</span> <span class="toc-text">typescript</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#const%E5%92%8Creadonly%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.1.</span> <span class="toc-text">const和readonly的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#type%E5%92%8Cinterface%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.2.</span> <span class="toc-text">type和interface的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keyof-%E5%92%8C-typeof-%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F"><span class="toc-number">1.10.3.</span> <span class="toc-text">keyof 和 typeof 关键字的作用？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unknown-any-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.4.</span> <span class="toc-text">unknown, any 的区别</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/07/11/%E6%8E%92%E5%BA%8F%E4%BB%A3%E7%A0%81/" title="排序代码 快排 冒泡 折半"><img data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/123.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="排序代码 快排 冒泡 折半"/></a><div class="content"><a class="title" href="/2022/07/11/%E6%8E%92%E5%BA%8F%E4%BB%A3%E7%A0%81/" title="排序代码 快排 冒泡 折半">排序代码 快排 冒泡 折半</a><time datetime="2022-07-11T07:00:00.000Z" title="发表于 2022-07-11 15:00:00">2022-07-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/10/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="前端面试"><img data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/123.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端面试"/></a><div class="content"><a class="title" href="/2022/07/10/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="前端面试">前端面试</a><time datetime="2022-07-10T06:00:00.000Z" title="发表于 2022-07-10 14:00:00">2022-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/19/hexo%E6%8F%90%E4%BA%A4%E9%97%AE%E9%A2%98/" title="hexo提交问题"><img data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/image-20220619172444020.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo提交问题"/></a><div class="content"><a class="title" href="/2021/06/19/hexo%E6%8F%90%E4%BA%A4%E9%97%AE%E9%A2%98/" title="hexo提交问题">hexo提交问题</a><time datetime="2021-06-19T04:00:00.000Z" title="发表于 2021-06-19 12:00:00">2021-06-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/19/Vue2%E7%AC%94%E8%AE%B0-%E4%B8%89/" title="Vue2知识总结(二)"><img data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/image-20220619172444020.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue2知识总结(二)"/></a><div class="content"><a class="title" href="/2021/06/19/Vue2%E7%AC%94%E8%AE%B0-%E4%B8%89/" title="Vue2知识总结(二)">Vue2知识总结(二)</a><time datetime="2021-06-19T03:00:00.000Z" title="发表于 2021-06-19 11:00:00">2021-06-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/19/Vue2%E7%AC%94%E8%AE%B0-%E4%BA%8C/" title="Vue2知识总结(二)"><img data-lazy-src="https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/image-20220619172444020.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue2知识总结(二)"/></a><div class="content"><a class="title" href="/2021/06/19/Vue2%E7%AC%94%E8%AE%B0-%E4%BA%8C/" title="Vue2知识总结(二)">Vue2知识总结(二)</a><time datetime="2021-06-19T02:00:00.000Z" title="发表于 2021-06-19 10:00:00">2021-06-19</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://luworkspace-1309238427.cos.ap-guangzhou.myqcloud.com/img/123.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By JaveyRabbit</div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">簡</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.spacingElementById('content-inner')
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.spacingElementById('content-inner')
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk({
      clientID: '9744e6e46965ef7f3dcd',
      clientSecret: '47b6a808e1ea0f2b7211c2058cee09669aa3742b',
      repo: 'https://javeyrabbit.github.io/',
      owner: 'javeyrabbit',
      admin: ['javeyrabbit'],
      id: '5f102d18e48a3865d532e202f4b9015b',
      language: 'en',
      perPage: 10,
      distractionFreeMode: false,
      pagerDirection: 'last',
      createIssueManually: false,
      updateCountCallback: commentCount
    })
    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config_change',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', '', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})</script></div></body></html>